

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="JS基础0. 邂逅JavaScript（了解）0.0 认识编程语言 HTML-标记语言    CSS-样式语言  HTML、CSS、JS都属于计算机语言（我们人和计算机进行沟通交流的语言）  JS不仅属于计算机语言，精确来说是一门编程语言  编程语言特征  数据和数据结构(变量、数组、对象等) 指令及流程控制（if&#x2F;for） 引用机制和重用机制 设计哲学    0.1 编程语言发展历史 机器语言">
<meta property="og:type" content="article">
<meta property="og:title" content="Javascript详解">
<meta property="og:url" content="https://kygo.top/2022/03/24/3.%20js/index.html">
<meta property="og:site_name" content="欢迎来到Kygo的博客">
<meta property="og:description" content="JS基础0. 邂逅JavaScript（了解）0.0 认识编程语言 HTML-标记语言    CSS-样式语言  HTML、CSS、JS都属于计算机语言（我们人和计算机进行沟通交流的语言）  JS不仅属于计算机语言，精确来说是一门编程语言  编程语言特征  数据和数据结构(变量、数组、对象等) 指令及流程控制（if&#x2F;for） 引用机制和重用机制 设计哲学    0.1 编程语言发展历史 机器语言">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://kygo.top/2022/03/public/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%B8%80.png">
<meta property="og:image" content="https://kygo.top/2022/03/public/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%BA%8C.png">
<meta property="og:image" content="https://kygo.top/2022/03/public/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%B8%89.png">
<meta property="og:image" content="https://kygo.top/2022/03/public/img/DOM%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB%E5%9B%BE.png">
<meta property="og:image" content="c:/Users/Administrator/Desktop/2022/img/js高级_浏览器渲染过程.png">
<meta property="og:image" content="c:/Users/Administrator/Desktop/2022/img/js高级_V8引擎的原理.png">
<meta property="og:image" content="file:///C:/Users/ADMINI~1/AppData/Local/Temp/ksohtml2868/wps1.png">
<meta property="og:image" content="file:///C:/Users/ADMINI~1/AppData/Local/Temp/ksohtml2868/wps2.png">
<meta property="og:image" content="file:///C:/Users/ADMINI~1/AppData/Local/Temp/ksohtml2868/wps3.png">
<meta property="article:published_time" content="2022-03-24T05:40:04.000Z">
<meta property="article:modified_time" content="2023-03-06T00:30:15.766Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="JS">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://kygo.top/2022/03/public/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%B8%80.png">
  
  
  <title>Javascript详解 - 欢迎来到Kygo的博客</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"kygo.top","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>东白</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/article.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Javascript详解">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-03-24 13:40" pubdate>
        2022-03-24 13:40:04
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      73k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      610 分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Javascript详解</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2023-03-06 08:30:15
                
              </p>
            
            <div class="markdown-body">
              <h1 id="JS基础"><a href="#JS基础" class="headerlink" title="JS基础"></a>JS基础</h1><h2 id="0-邂逅JavaScript（了解）"><a href="#0-邂逅JavaScript（了解）" class="headerlink" title="0. 邂逅JavaScript（了解）"></a>0. 邂逅JavaScript（了解）</h2><h3 id="0-0-认识编程语言"><a href="#0-0-认识编程语言" class="headerlink" title="0.0 认识编程语言"></a>0.0 认识编程语言</h3><ul>
<li><p>HTML-标记语言    CSS-样式语言</p>
</li>
<li><p>HTML、CSS、JS都属于<strong>计算机语言</strong>（我们人和计算机进行沟通交流的语言）</p>
</li>
<li><p>JS不仅属于计算机语言，精确来说是一门<strong>编程语言</strong></p>
</li>
<li><p><strong>编程语言特征</strong></p>
<ul>
<li>数据和数据结构(变量、数组、对象等)</li>
<li>指令及流程控制（if/for）</li>
<li>引用机制和重用机制</li>
<li>设计哲学</li>
</ul>
</li>
</ul>
<h3 id="0-1-编程语言发展历史"><a href="#0-1-编程语言发展历史" class="headerlink" title="0.1 编程语言发展历史"></a>0.1 编程语言发展历史</h3><ul>
<li>机器语言<ul>
<li>由0、1组成，也叫做机器码或二进制编码</li>
<li>一定长度的机器码组成了机器指令，用机器指令编写的程序就是机器语言</li>
<li>优点：直接被计算机识别，不需编译解析，直接对硬件产生作用，程序效率高</li>
<li>缺点：可读性差、容易出错、不易编写</li>
</ul>
</li>
<li>汇编语言<ul>
<li>用符号代替冗长的0、1代码（通过汇编器将汇编码转成0、1，从而被机器识别）</li>
<li>优点：和机器语言一样，可以直接访问、控制计算机的各种硬件设备，占用内存少执行速度快</li>
<li>缺点：代码缺乏可移植性（不同语言有不同汇编语言语法和编译器）、符号非常多难记</li>
<li>应用场景：操作系统内核、单片机程序、驱动程序</li>
</ul>
</li>
<li>高级语言<ul>
<li>高级语言就是更接近自然的语言，更符合人类的思维方式，一般使用英文编写</li>
<li>优点<ul>
<li>简单、易用、易于理解，语法结构类似于普通英文</li>
<li>远离对硬件的直接操作</li>
<li>具有可移植性，一个程序可以在不同机器上运行</li>
</ul>
</li>
<li>缺点<ul>
<li>不能直接被计算机识别，需要经编译器翻译成二进制指令后，才能运行到计算机上</li>
<li>种类繁多</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="0-2-js的历史"><a href="#0-2-js的历史" class="headerlink" title="0.2 js的历史"></a>0.2 js的历史</h3><ul>
<li><p>认识JavaScript</p>
<ul>
<li>JavaScript是一门高级的、解释型的编程语言</li>
<li>是一门基于原型的、头等函数的语言，是一门多范式的语言…</li>
<li>JavaScript是前端开发的灵魂</li>
</ul>
</li>
<li><p>1994年，网景公司（Netscape）发布了Navigator浏览器0.9版本</p>
<ul>
<li>这是历史上第一个比较成熟的网络浏览器</li>
<li>但是这个版本浏览器只能用来浏览，不能与用户互动，网景公司急需一种网页脚本语言</li>
</ul>
</li>
<li><p>网景公司当时想要选择一门语言来嵌入到浏览器中</p>
<ul>
<li>网景公司招募了程序员Brendan Eich，希望将Scheme语言作为网页脚本语言的可能</li>
<li>同时发生了一件大事：1995年Sun公司将Oka语言改名Java，正式向市场推出</li>
<li>网景公司动了心，希望和Sun公司结成联盟，将Java嵌入到网页中来运行</li>
<li>Brendan Eich本人非常热衷于Scheme，但管理层那时候有点倾向于Java</li>
</ul>
</li>
<li><p>Brendan Eich用10天时间设计出JavaScript</p>
<ul>
<li>最初这门语言得名字叫Mocha（摩卡），Navigator2.0 beta版本改名为LiveScript</li>
<li>Navigator2.0 beta 3版本正式命名为JavaScript（当时是为了给这门语言搭上Java这个热词）</li>
<li>这门语言更像是很多语言的大杂烩<ul>
<li>借鉴C语言的基本语法</li>
<li>借鉴Java语言的数据类型和内存管理</li>
<li>借鉴Scheme语言，将函数提升到”一等公民”（first class）的地位</li>
<li>借鉴Self语言，使用基于原型（prototype）的继承机制</li>
</ul>
</li>
</ul>
</li>
<li><p>微软公司于1995年首次推出Internet Explorer，从而引发了与Netscape的浏览器大战</p>
<ul>
<li>微软创建了JScript语言，这时对开发者来说是一种噩耗，因为要适配不同浏览器</li>
</ul>
</li>
<li><p>1996年11月，网景正式向ECMA（欧洲计算机制造商协会）提交语言标准</p>
<ul>
<li>1997年6月，ECMA以JavaScript语言为基础制定了ECMAScript标准规范ECMA-262</li>
<li>JavaScript成为ECMAScript最著名的实现之一（ActionScript和JScript也都是ECMAScript规范的实现语言）</li>
</ul>
</li>
<li><p>所以说，ECMAScript是一种规范，而JavaScript是这种规范的一种实现</p>
</li>
</ul>
<h3 id="0-3-js的组成"><a href="#0-3-js的组成" class="headerlink" title="0.3 js的组成"></a>0.3 js的组成</h3><ul>
<li>JavaScript是ECMAScript标准的<strong>语言层面</strong>实现</li>
<li>除了语言规范外，JS还需要对页面(DOM)和浏览器(BOM)进行各种操作</li>
<li>所以JS由三大部分组成：ECMAScript、DOM、BOM</li>
</ul>
<h3 id="0-4-js运行引擎"><a href="#0-4-js运行引擎" class="headerlink" title="0.4 js运行引擎"></a>0.4 js运行引擎</h3><ul>
<li>不同的浏览器由不同的内核组成，如：Webkit、Blink</li>
<li>通常我们说的浏览器内核是指：排版引擎，而JS是由JS引擎来执行的</li>
<li>JS引擎<ul>
<li>为什么需要JS引擎：将JS(高级语言)=&gt;CPU指令(机器码)来执行</li>
<li>常见的JS引擎<ul>
<li>SpiderMonkey：第一款JS引擎，由Brendan Eich开发（JS作者）</li>
<li>Chakra：微软开发，用于IE浏览器</li>
<li>JavaScriptCore：Webkit中的JS引擎，Apple公司开发</li>
<li>V8：Google开发的强大JS引擎，帮助Chrome浏览器脱颖而出</li>
</ul>
</li>
</ul>
</li>
<li>浏览器内核和JS引擎的关系<ul>
<li>以WebKit内核为例，由两部分组成<ul>
<li>WebCore：负责HTML解析、布局渲染等</li>
<li>JavaScriptCore：解析、执行JS代码</li>
</ul>
</li>
<li>在小程序中编写的JS也是由JSCore执行的</li>
</ul>
</li>
</ul>
<h3 id="0-5-js应用场景"><a href="#0-5-js应用场景" class="headerlink" title="0.5 js应用场景"></a>0.5 js应用场景</h3><ul>
<li>Web开发（原生JS、Vue、React、Angular开发）</li>
<li>移动端开发（ReactNative、Weex）</li>
<li>小程序开发（微信小程序、支付宝小程序、uniapp、taro）</li>
<li>桌面端开发（Electron，如VSCode）</li>
<li>后端开发（Node框架，koa、express…）</li>
</ul>
<h2 id="1-JavaScript基本知识"><a href="#1-JavaScript基本知识" class="headerlink" title="1. JavaScript基本知识"></a>1. JavaScript基本知识</h2><h3 id="1-1-JS编写方式"><a href="#1-1-JS编写方式" class="headerlink" title="1.1 JS编写方式"></a>1.1 JS编写方式</h3><ul>
<li>位置：行内/内部/外部引入  (外部src引入的script标签中不能写js代码，不然无效)</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 行内引入-HTML代码行内（不推荐） --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;alert(&#x27;行内引入js&#x27;)&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>点一下<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;行内引入js方式二&#x27;)&quot;</span>&gt;</span>点一下<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 内部引入-script标签中 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  alert(<span class="hljs-string">&quot;内部引入js&quot;</span>)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 外部引入-外部js文件，通过script元素的src属性引入文件 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./out.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><p>注意点：js代码放到head，并需要通过js操作页面元素时就会失效(HTML从上至下执行)</p>
</li>
<li><p>解决</p>
<ul>
<li>加上window.onload=function(){ js代码 }  (内部外部都可以加)</li>
<li>将script或script-src放到body结束标签之前</li>
</ul>
</li>
</ul>
<h3 id="1-2-noscript元素"><a href="#1-2-noscript元素" class="headerlink" title="1.2 noscript元素"></a>1.2 noscript元素</h3><ul>
<li><p>浏览器不支持JavaScript或者用户关闭了浏览器的JavaScirpt功能时，可以使用noscript元素</p>
</li>
<li><p>noscript元素用于给不支持JavaScript的浏览器提供替代内容</p>
</li>
<li><p>注意：只有当浏览器不支持或关闭了javascript时，noscirpt元素才会起作用（显示出来）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">noscript</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>您的浏览器不支持或关闭运行JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">noscript</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="1-3-JavaScript编写注意事项"><a href="#1-3-JavaScript编写注意事项" class="headerlink" title="1.3 JavaScript编写注意事项"></a>1.3 JavaScript编写注意事项</h3><ul>
<li>script元素不能写成单标签</li>
<li>自动省略type属性（以前的代码script中会使用type=”text/javascript”，现在不用写了）</li>
<li>加载顺序<ul>
<li>作为HTML文档的一部分，自上而下加载，<strong>推荐将js放在body子元素的最后一行</strong></li>
</ul>
</li>
<li>js代码严格区分大小写</li>
<li>script元素还有defer、async属性（后续学习）</li>
</ul>
<h3 id="1-4-JS和浏览器的交互方式"><a href="#1-4-JS和浏览器的交互方式" class="headerlink" title="1.4 JS和浏览器的交互方式"></a>1.4 JS和浏览器的交互方式</h3><ul>
<li><p>弹窗：alert()-确定按钮  confirm()-确定取消  prompt()-确定取消获取用户输入框    </p>
</li>
<li><p>网页内容区域：document.write()  </p>
</li>
<li><p>控制台：普通console.log(a,b…)  警告console.warn()  错误console.error()</p>
</li>
</ul>
<h3 id="1-5-Chrome调试工具"><a href="#1-5-Chrome调试工具" class="headerlink" title="1.5 Chrome调试工具"></a>1.5 Chrome调试工具</h3><ul>
<li><p>可以在开发者工具中的console查看log出的内容</p>
</li>
<li><p>如果代码中出现了错误或警告，会在console中显示</p>
</li>
<li><p>console中有个 &gt; 符号，表示控制台的命令行</p>
<ul>
<li>在命令行中可以直接编写js代码，按下enter键执行</li>
<li>如果想编写多行代码，按住shift+enter来换行</li>
</ul>
</li>
<li><p>还可以通过debug方式来调试、查看代码的执行流程</p>
</li>
</ul>
<h3 id="1-6-JS的语句和分号"><a href="#1-6-JS的语句和分号" class="headerlink" title="1.6 JS的语句和分号"></a>1.6 JS的语句和分号</h3><ul>
<li>语句是向浏览器发出的指令，通常表达一个操作或行为</li>
<li>通常每条语句后都会加上一个分号，表示语句的结束</li>
<li>当存在换行符时，大多数情况可以省略分号（JS将换行符理解成”隐式”的分号，也称为自动插入分号）</li>
</ul>
<h3 id="1-7-JS的注释"><a href="#1-7-JS的注释" class="headerlink" title="1.7 JS的注释"></a>1.7 JS的注释</h3><ul>
<li><p>三种注释：单行注释、多行注释、文档注释</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//我是js单行注释</span><br><br><span class="hljs-comment">/*我是js多行注释*/</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">文档注释：VSCode中在单独的JS文件中编写才有效，当我们调用函数时就会有提示，快捷键：&quot;/**&quot;，如下：</span><br><span class="hljs-comment">*/</span><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 向某人打招呼</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;string&#125;</span> </span>name 姓名</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;number&#125;</span> </span>age 年龄</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sayHello</span>(<span class="hljs-params">name,age</span>)</span>&#123;<br>  <br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>注意：JS不支持注释嵌套</p>
</li>
</ul>
<h2 id="2-ECMAScript"><a href="#2-ECMAScript" class="headerlink" title="2. ECMAScript"></a>2. ECMAScript</h2><h3 id="2-1-变量和数据类型"><a href="#2-1-变量和数据类型" class="headerlink" title="2.1 变量和数据类型"></a>2.1 变量和数据类型</h3><h4 id="2-1-1-变量"><a href="#2-1-1-变量" class="headerlink" title="2.1.1 变量"></a>2.1.1 变量</h4><ul>
<li><p>作用：记录某一个之后会变化的数据</p>
</li>
<li><p>变量定义</p>
<ul>
<li><p>变量声明（var关键字） + 变量赋值（=）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//声明并且赋值，也可给多个变量声明和赋值</span><br><span class="hljs-keyword">var</span> age=<span class="hljs-number">18</span>;<br><span class="hljs-comment">//先声明再赋值（不推荐），没有初始化值为undefined</span><br><span class="hljs-keyword">var</span> a,b;  <br>a=b=<span class="hljs-number">213</span>;  <br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>变量(标识符)的命名规范（标识符-凡是自己命名的都叫标识符）</p>
<ul>
<li>命名规则（必须遵守）<ul>
<li>第一个字符必须是一个字母、下划线、美元符号，其他字符可以是数字、字母、下划线、美元符号</li>
<li>不能使用关键字和保留字命名</li>
<li>变量严格区分大小写</li>
</ul>
</li>
<li>命名规范（建议遵守）<ul>
<li>多个单词时，驼峰命名：一般小驼峰</li>
<li>= 号两边加上空格</li>
<li>每条语句结束加上分号</li>
<li>变量见名知意</li>
</ul>
</li>
</ul>
</li>
<li><p>注意</p>
<ul>
<li>变量不声明直接使用会报错</li>
<li>变量有声明但没有赋值，值为undefined（不推荐，一般会给初始值如：0、””、null…）</li>
<li>不使用var声明直接赋值，也可以，但不推荐（对将变量加到window对象上）</li>
</ul>
</li>
<li><p>ES6</p>
</li>
</ul>
<p>常量：整形、实型、字符串、布尔、自定义常量(ES6: const关键字/不能改变)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-number">1</span> <span class="hljs-number">1.2</span> <span class="hljs-string">&quot;2&quot;</span> <span class="hljs-literal">true</span> <br><span class="hljs-keyword">const</span> name=<span class="hljs-string">&quot;cth&quot;</span>;<br></code></pre></td></tr></table></figure>

<p>预处理(解析)：将所有变量和函数的定义放到所有代码最前面，所以可以先使用再定义变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(a);  <span class="hljs-comment">//undefined</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure>

<p>ES6变量定义：let 变量名称;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a=<span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure>

<p>注：let定义过的变量重新定义报错(方便查找)，而老版本的var不会</p>
<p>​        let定义的变量不会预解析，必须先定义再使用，否则会报错</p>
<p>补：字面量是具体的值，存储在常量或变量中</p>
<h4 id="2-1-2-数据类型"><a href="#2-1-2-数据类型" class="headerlink" title="2.1.2 数据类型"></a>2.1.2 数据类型</h4><ul>
<li><p>javascript是一门”动态类型”的编程语言</p>
<ul>
<li>javascript中的值都具有特定的数据类型</li>
<li>一个变量可以在上一刻是字符串，下一个是一个数字</li>
</ul>
</li>
<li><p>8种基本数据类型（7种原始类型/基本数据类型和1种复杂类型）</p>
<ul>
<li>number string boolean</li>
<li>undefined null object(引用类型)</li>
<li>BigInt Symbol（后续了解）</li>
</ul>
</li>
<li><p>typoef操作符的使用</p>
<ul>
<li><p>由来：因为ECMAScript的类型系统是松散的，所以需要一种手段来确定任意变量的数据类型</p>
</li>
<li><p>用法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/*</span><br><span class="hljs-comment">typeof x 因为是操作符所以中间用空格连接即可</span><br><span class="hljs-comment">typeof(x) 不是一个函数，括号只是代表后面是一个整体，如：(1+2)*3</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">var</span> age = <span class="hljs-number">19</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> age)<br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span>(age))<br></code></pre></td></tr></table></figure></li>
<li><p>返回以下任意值之一</p>
<ul>
<li>“number”、”string” 、”boolean”、 “undefined” - 未赋值</li>
<li>“object” - 对象或null</li>
<li>“function” - 函数     “symbol”- 符号</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Number类型</strong></p>
<ul>
<li><p>范围：JS所有数值 - 整数和浮点数</p>
</li>
<li><p>除了常规数字，还包括一些 “特殊数值”：Infinity、NaN（了解）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//NAN(not a number)非数值，表示一个错误操作得到的结果</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Number</span>(<span class="hljs-string">&quot;123cth&quot;</span>),<span class="hljs-number">3</span>*<span class="hljs-string">&quot;abc&quot;</span>);<br><span class="hljs-comment">//Infinity/-Infinity（无穷大和无穷小，全局对象的属性 window.Infinity）</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span> / <span class="hljs-number">0</span>);   <span class="hljs-comment">//Infinity  0/0=NaN</span><br><span class="hljs-built_in">console</span>.log(-<span class="hljs-number">1</span> / <span class="hljs-number">0</span>);  <span class="hljs-comment">//-Infinity</span><br></code></pre></td></tr></table></figure></li>
<li><p>数字的进制表示</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//十进制</span><br><span class="hljs-keyword">var</span> num1=<span class="hljs-number">111</span>;<br><span class="hljs-comment">//十六进制</span><br><span class="hljs-keyword">var</span> num2=<span class="hljs-number">0x111</span>;<br><span class="hljs-comment">//八进制</span><br><span class="hljs-keyword">var</span> num3=<span class="hljs-number">0o111</span>;<br><span class="hljs-comment">//二进制</span><br><span class="hljs-keyword">var</span> num4=<span class="hljs-number">0b111</span>;<br><span class="hljs-built_in">console</span>.log(num1,num2,num3,num4);<br></code></pre></td></tr></table></figure></li>
<li><p>数字表示范围</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Number</span>.MAX_VALUE); <span class="hljs-comment">//最大正数值</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Number</span>.MIN_VALUE); <span class="hljs-comment">//最小正数值，小于这个数会转化为0</span><br></code></pre></td></tr></table></figure></li>
<li><p>isNaN: 判断是否不是一个数字（NAN），不是数字返回true</p>
</li>
<li><p>注意：不要使用js进行精度要求较高的计算</p>
</li>
</ul>
</li>
<li><p><strong>String类型</strong></p>
<ul>
<li><p>用途：表示一段文本</p>
</li>
<li><p>三种使用方法：单引号””、双引号’’、反引号`（ES6语法）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> name=<span class="hljs-string">&quot;kygo&quot;</span><br><span class="hljs-keyword">var</span> name=<span class="hljs-string">&#x27;kygo~&#x27;</span><br><span class="hljs-keyword">var</span> name=<span class="hljs-string">`kygo~~`</span><br><span class="hljs-comment">//反引号,$&#123;变量/表达式&#125;</span><br><span class="hljs-keyword">var</span> msg=<span class="hljs-string">`my name is <span class="hljs-subst">$&#123;name&#125;</span>,age is <span class="hljs-subst">$&#123;<span class="hljs-number">17</span>+<span class="hljs-number">1</span>&#125;</span>`</span><br></code></pre></td></tr></table></figure></li>
<li><p>如果字符串本身使用双引号，那么字符串中可以使用单引号，反之也可</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> desc=<span class="hljs-string">&quot;kygo is &#x27;shuaige&#x27;&quot;</span><br><span class="hljs-keyword">var</span> desc1=<span class="hljs-string">&#x27;kygo is &quot;shuaige&quot;&#x27;</span><br></code></pre></td></tr></table></figure></li>
<li><p>转义字符（了解）</p>
<ul>
<li><p>一些有特殊功能的字符可以通过转移字符的形式放入字符串中</p>
</li>
<li><p>都是斜杠\开头</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">\\ 斜杠<br>\n \t 换行符、制表符<br>\<span class="hljs-string">&#x27; \&quot;  单引号、双引号</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>字符串的属性和方法</p>
<ul>
<li><p>字符串拼接：通过 + 连接</p>
</li>
<li><p>获取字符串长度</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> msg1 = <span class="hljs-string">&quot;my name is&quot;</span><br><span class="hljs-keyword">var</span> msg2 = <span class="hljs-string">&quot;kygo&quot;</span><br><span class="hljs-keyword">var</span> msg3 = msg1 + msg2<br><span class="hljs-keyword">var</span> msg4 = <span class="hljs-string">`my name is <span class="hljs-subst">$&#123;msg2&#125;</span>`</span> <span class="hljs-comment">//推荐</span><br><span class="hljs-built_in">console</span>.log(msg3,msg3.length);<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>Boolean类型</p>
<ul>
<li>作用：用于表示真假</li>
<li>值：真、假 - true/false</li>
</ul>
</li>
</ul>
<ul>
<li><p>Undefined类型</p>
<ul>
<li><p>只有一个值，就是undefined</p>
<ul>
<li>如果只声明变量没有赋值，默认值就是undefined</li>
</ul>
</li>
<li><p>注意</p>
<ul>
<li>最好在变量定义时进行初始化，而不是只是声明变量</li>
<li>不要把变量显示的赋值为undefined（可以初始化为0、””、null等）</li>
</ul>
</li>
</ul>
</li>
<li><p>Object类型和Null类型</p>
<ul>
<li><p>通常被称为引用类型或复杂类型</p>
</li>
<li><p>作用：表示一组数据，是其他数据的一个集合</p>
</li>
<li><p>表示方法：用花括号{}的方式来表示一个对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj=&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">1.88</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(obj.name);<br></code></pre></td></tr></table></figure></li>
<li><p>Null类型</p>
<ul>
<li>值：只有一个值null</li>
<li>作用：通常用来表示一个对象为空，用来给一个对象进行初始化时，会赋值为null</li>
<li>也属于object类型：使用typeof操作符返回object</li>
</ul>
</li>
<li><p>null和undefined的关系</p>
<ul>
<li><p>undefined通常只有在一个变量声明但未初始化时，默认值是undefined才会用到</p>
</li>
<li><p>不推荐直接给变量赋值为undefined，所以很少主动来使用</p>
</li>
<li><p>null值非常常用，当我们变量准备保存一个对象，而对象不确定时，可以先赋值null</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-1-3-数据类型的转换"><a href="#2-1-3-数据类型的转换" class="headerlink" title="2.1.3 数据类型的转换"></a>2.1.3 数据类型的转换</h4><ul>
<li>String类型的转换<ul>
<li>隐式类型转换：一个字符串和其他类型进行+操作</li>
<li>显示转换：String()函数、toString()方法</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//三种方法：toString()  String()  +&quot;&quot;</span><br><span class="hljs-keyword">var</span> num = <span class="hljs-number">2</span>;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">String</span>(num) + <span class="hljs-string">&quot; 类型：&quot;</span> + <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">String</span>(num));<br><span class="hljs-built_in">console</span>.log(num.toString() + <span class="hljs-string">&quot; 类型：&quot;</span> + <span class="hljs-keyword">typeof</span> num.toString());<br><span class="hljs-built_in">console</span>.log(num + <span class="hljs-string">&quot;&quot;</span> + <span class="hljs-string">&quot; 类型：&quot;</span> + <span class="hljs-keyword">typeof</span>(num + <span class="hljs-string">&quot;&quot;</span>));<br><span class="hljs-comment">/*Result</span><br><span class="hljs-comment">2 类型：string</span><br><span class="hljs-comment">2 类型：string</span><br><span class="hljs-comment">2 类型：string */</span><br><br><span class="hljs-comment">//toString()转换undefined与null类型会报错,toString()可以转换数字进制，在()指定</span><br><span class="hljs-keyword">var</span> num = <span class="hljs-number">7</span><br><span class="hljs-built_in">console</span>.log(num.toString(<span class="hljs-number">2</span>));	<span class="hljs-comment">//进制转换 111</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">undefined</span>.toString()); <span class="hljs-comment">//报错</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">null</span>.toString());	<span class="hljs-comment">//报错</span><br></code></pre></td></tr></table></figure>



<ul>
<li><p>Number类型的转换</p>
<ul>
<li><p>隐式转换：在算术运算时，通常会将其他类型转成数字类型来运行（除了+运算且一边是字符串）</p>
</li>
<li><p>显示转换：Number()函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//Number()  +  </span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">true</span> + <span class="hljs-number">0</span>);  <span class="hljs-comment">//+不能转换字符串为数字</span><br><br><span class="hljs-comment">//string转number 如果不是纯数字-&gt; NaN</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;value=&quot;</span> + <span class="hljs-built_in">Number</span>(<span class="hljs-string">&quot;123a&quot;</span>) + <span class="hljs-string">&quot; type=&quot;</span> + <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Number</span>(<span class="hljs-string">&quot;123a&quot;</span>));<br></code></pre></td></tr></table></figure></li>
<li><p>其他类型转数字的规则</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//空、空格字符串/null/false都是0  undefined/非纯数字-&gt;NaN</span><br>console.log(<span class="hljs-string">&quot;false:&quot;</span> + Number(<span class="hljs-keyword">false</span>) + <span class="hljs-string">&quot; 空:&quot;</span> + Number(<span class="hljs-string">&quot; &quot;</span>) + <span class="hljs-string">&quot; null:&quot;</span> + Number(<span class="hljs-keyword">null</span>) <br>            + <span class="hljs-string">&quot; undefined:&quot;</span> + Number(undefined));<br><span class="hljs-comment">//Result</span><br><span class="hljs-keyword">false</span>:<span class="hljs-number">0</span> 空:<span class="hljs-number">0</span> <span class="hljs-keyword">null</span>:<span class="hljs-number">0</span> undefined:NaN<br></code></pre></td></tr></table></figure></li>
<li><p>扩展：parseInt/parseFloat-字符串转数字专用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/*</span><br><span class="hljs-comment">parseInt() 和 parseFloat()专门用于转换非纯数字</span><br><span class="hljs-comment">解析到第一个非数值为止  如parseInt(c3px) -&gt;NaN */</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;value=&quot;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&quot;123a&quot;</span>) + <span class="hljs-string">&quot; type=&quot;</span> + <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&quot;123a&quot;</span>));<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;value=&quot;</span> + <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">&quot;123.123a&quot;</span>) + <span class="hljs-string">&quot; type=&quot;</span> + <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&quot;123a&quot;</span>));<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<ul>
<li>Boolean类型的转换  <ul>
<li>通过Boolean()函数 或 隐式转换!!</li>
<li>转换规则：直观上为空的值（0、””、null、undefined和NaN）都转成false</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//Boolean()  !!</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Boolean</span>(<span class="hljs-string">&quot;Kygo&quot;</span>));<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Res: &quot;</span> + !!<span class="hljs-string">&quot;kygo&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>注意：空字符串/0/NaN/null/undefined  -&gt;false</p>
<p>​    </p>
<h3 id="2-2-运算符"><a href="#2-2-运算符" class="headerlink" title="2.2 运算符"></a>2.2 运算符</h3><ul>
<li><p>运算符和运算元</p>
<ul>
<li><p>运算符：计算机最基本的操作就是执行运算，而执行运算就需要使用运算符来操作</p>
</li>
<li><p>运算元</p>
<ul>
<li>运算符应用的对象</li>
<li>一个运算符对应的只有一个运算元叫一元运算符，一个运算符对应两个运算元…</li>
</ul>
</li>
</ul>
</li>
<li><p>分类</p>
<ul>
<li><p>功能分：算数运算符/赋值运算符/关系(比较)运算符/逻辑运算符</p>
</li>
<li><p>操作数分：单目/双目/三目运算符</p>
</li>
</ul>
</li>
</ul>
<h4 id="2-2-1-算数运算符"><a href="#2-2-1-算数运算符" class="headerlink" title="2.2.1 算数运算符"></a>2.2.1 算数运算符</h4><ul>
<li>注意<ul>
<li>左结合性(从左到右计算)</li>
<li>NaN和任何运算都是NaN，都会先转换为number再计算(+””除外)</li>
<li>取余操作：m%n=余数  m&gt;n<del>余数  m&lt;n</del>m  n=0~NaN  （结果正负性取决于m）</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//加减乘除、取余、幂(ES7，和Math.pow()函数类似)</span><br>+ - * / % **<br></code></pre></td></tr></table></figure>

<h4 id="2-2-2-赋值运算符"><a href="#2-2-2-赋值运算符" class="headerlink" title="2.2.2 赋值运算符"></a>2.2.2 赋值运算符</h4><ul>
<li>优先级低于算数运算符、右结合性</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//最常用的赋值运算符：=</span><br>=   <br><span class="hljs-comment">//链式赋值，从右往左计算</span><br><span class="hljs-keyword">var</span> num=num1=num2=<span class="hljs-number">1</span>+<span class="hljs-number">1</span><br><span class="hljs-comment">//原地修改：对一个变量做运算，并将新的结果存储到同一个变量中</span><br>+=  -=  *=  /=  %= **=<br></code></pre></td></tr></table></figure>

<h4 id="2-2-3-自增自减运算符"><a href="#2-2-3-自增自减运算符" class="headerlink" title="2.2.3 自增自减运算符"></a>2.2.3 自增自减运算符</h4><ul>
<li>注意<ul>
<li>自增/自减只能应用于变量，应用于数值（比如5++）会报错</li>
<li>尽量单独出现，不推荐在表达式中写（阅读性较差）</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//n++和++n区别：n++表达式值为n, ++n为n+1</span><br>++  --  <br><span class="hljs-comment">//四种实现方法</span><br><span class="hljs-keyword">var</span> Index=<span class="hljs-number">0</span><br>index=index+<span class="hljs-number">1</span><br>index+=<span class="hljs-number">1</span><br>index++<br>++index<br></code></pre></td></tr></table></figure>

<h4 id="2-2-4-关系-比较-运算符"><a href="#2-2-4-关系-比较-运算符" class="headerlink" title="2.2.4 关系(比较)运算符"></a>2.2.4 关系(比较)运算符</h4><ul>
<li>注意：<ul>
<li>关系运算符返回布尔值：关系成立就返回true，不成立就返回false</li>
<li>任何非数值类型，先转换为数值类型再判断(字符串和字符串比较除外)</li>
<li>参与比较的都是字符串，比较对应的Unicode编码(一位一位比较Unicode)</li>
<li>任何数据和NaN比较，返回值都是false</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//左结合性,前四个优先级高后四</span><br>&gt;  &lt;  &gt;=  &lt;=  ==  !=  ===  !==  <br> <br><span class="hljs-comment">/*== 和 ===区别：===只有取值和数据类型完全相同才会返回true（完全相等）</span><br><span class="hljs-comment">比较不同类型时，==两侧的值会先转成数字再进行比较（null除外）</span><br><span class="hljs-comment">开发建议都使用===、!==来降低犯错的可能性</span><br><span class="hljs-comment">*/</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;1&quot;</span> == <span class="hljs-literal">true</span>);<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;1&quot;</span> === <span class="hljs-literal">true</span>);<br><br><span class="hljs-comment">//三种特殊比较 （了解）</span><br><span class="hljs-literal">null</span>==<span class="hljs-number">0</span> <span class="hljs-literal">false</span> <br><span class="hljs-literal">undefined</span>==<span class="hljs-number">0</span> <span class="hljs-literal">false</span>  <br><span class="hljs-literal">null</span>==<span class="hljs-literal">undefined</span> <span class="hljs-literal">true</span> 	<span class="hljs-comment">//null衍生的</span><br><br><span class="hljs-comment">//判断是否是NaN，NaN==NaN(不能这样判断)  </span><br><span class="hljs-built_in">isNaN</span>()  <br></code></pre></td></tr></table></figure>



<h4 id="2-2-5-逻辑运算符"><a href="#2-2-5-逻辑运算符" class="headerlink" title="2.2.5 逻辑运算符"></a>2.2.5 逻辑运算符</h4><ul>
<li><p>三个逻辑运算符：&amp;&amp;(与)、 ||(或)、 !(非)</p>
</li>
<li><p>作用：将多个表达式或值放到一起来获得最终值</p>
</li>
<li><p>规则</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&amp;&amp;  	<span class="hljs-comment">//逻辑与 一假则假  </span><br>||  	<span class="hljs-comment">//逻辑或 一真则真  </span><br>!   	<span class="hljs-comment">//逻辑非 取反</span><br></code></pre></td></tr></table></figure></li>
<li><p>注意</p>
<ul>
<li>左结合性 、&amp;&amp;优先级高于||  </li>
<li>不是boolean先转换为boolean再计算</li>
</ul>
</li>
</ul>
<ul>
<li><p>短路现象：&amp;&amp;只要前面是假，后面的语句不会执行(检查)，||相反</p>
</li>
<li><p><strong>逻辑与/或的本质</strong></p>
<ul>
<li><p>逻辑或的本质（返回第一个真值运算元的初始值，不存在真值就返回最后一个）</p>
<ul>
<li>从左到右依次计算操作数，处理每一个运算元时都将其转成布尔值</li>
<li>一旦遇到某个运算元结果是true则停止计算，返回这个运算元的<strong>初始值</strong></li>
<li>如果所有运算元都被计算过（转换结果是true），则返回最后一个</li>
</ul>
</li>
<li><p>逻辑与的本质：返回第一个假值的运算元初始值，不存在返回最后一个</p>
</li>
<li><p>注意：返回的值是运算元的初始形式，不会转化为Boolean类型</p>
</li>
<li><p>总结：返回第一个能够决定表达式真假的运算元，如果没有则返回最后一个</p>
</li>
</ul>
</li>
<li><p>逻辑与、或在开发中的应用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//逻辑或-获取第一个有值的结果</span><br><span class="hljs-keyword">var</span> info=<span class="hljs-string">&quot;123&quot;</span><br><span class="hljs-keyword">var</span> message=info||<span class="hljs-string">&quot;默认值&quot;</span><br><br><span class="hljs-comment">//逻辑与-对一些对象中的方法进行有值判断</span><br><span class="hljs-keyword">var</span> obj=&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Kygo&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-function"><span class="hljs-title">sayHello</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;hello&quot;</span>);<br>  &#125;<br>&#125;<br><span class="hljs-comment">//调用sayHello函数</span><br>obj &amp;&amp; obj.sayHello &amp;&amp; obj.sayHello()<br></code></pre></td></tr></table></figure></li>
<li><p>逻辑非 !</p>
<ul>
<li>接收一个参数，先将操作数转为布尔类型，再返回取反的值</li>
<li>应用：两个非运算符!!用来将某个值转为布尔类型</li>
</ul>
</li>
</ul>
<ul>
<li><p>其他运算符</p>
<ul>
<li><p>三元运算符：条件表达式 ? 结果A : 结果B  true-返回A</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//常见用法：如果info有值就使用info，否则给个默认值</span><br>info=&#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>&#125;<br><span class="hljs-keyword">var</span> obj = info ? info : &#123;&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>逗号运算符：简化代码/优先级最低/左结合性/运算结果是最后一个表达式结果</p>
</li>
<li><p>单目运算符：typeof/+/ -  +可用于隐式类型转换为number  </p>
</li>
</ul>
</li>
</ul>
<h3 id="2-3-流程控制"><a href="#2-3-流程控制" class="headerlink" title="2.3 流程控制"></a>2.3 流程控制</h3><ul>
<li>流程控制基本知识<ul>
<li>程序的执行顺序：顺序结构、选择(分支)结构、循环结构</li>
<li>代码块{}<ul>
<li>多行代码的集合，通过一个花括号{}放到一起</li>
<li>可以通过流程控制语句来指定如何执行一个代码块</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-3-1-选择结构（分支语句）"><a href="#2-3-1-选择结构（分支语句）" class="headerlink" title="2.3.1 选择结构（分支语句）"></a>2.3.1 选择结构（分支语句）</h4><ul>
<li><p>if 分支语句、if else多分支语句、if  else if … else多分支语句</p>
</li>
<li><p>switch分支语句</p>
<ul>
<li>通过判断表达式结果（或变量）是否等于case语句的常量</li>
<li>if可以做值的范围判断，switch语句只能做值的相等判断（全等===）</li>
</ul>
</li>
<li><p>注意</p>
<ul>
<li>如果代码块中语句只有一行，花括号{}可以省略</li>
<li>()括号内的表达式会自动转成布尔类型来判断是否执行代码块</li>
</ul>
</li>
<li><p>if/switch如何选择：对区间判断用if  对固定值判断用switch（能用if就用if）</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//只有一个会执行非布尔先转布尔再判断 </span><br><span class="hljs-keyword">if</span> / <span class="hljs-keyword">if</span> <span class="hljs-keyword">else</span> / <span class="hljs-keyword">if</span>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ...  <span class="hljs-keyword">else</span> <br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">switch语句中至少有一个case代码块和一个可选的default代码块</span><br><span class="hljs-comment">case穿透问题：一条case语句执行完后会自动指定下一条，使用break解决</span><br><span class="hljs-comment">break关键字：结束整个switch语句，一般在每个case后都加</span><br><span class="hljs-comment">case判断的是===  ()和case的表达式可以是常量/变量/表达式</span><br><span class="hljs-comment">default可以省略且不一定在最后（一般放在最后）</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">switch</span>(表达式/变量)&#123;<br>  <span class="hljs-keyword">case</span> 常量<span class="hljs-number">1</span>: <br>    <span class="hljs-comment">//语句一</span><br>    <span class="hljs-keyword">break</span> <br>  <span class="hljs-keyword">case</span>... <br>  <span class="hljs-attr">default</span>: <br>    <span class="hljs-comment">//语句n</span><br>&#125;  <br></code></pre></td></tr></table></figure>



<h4 id="2-3-2-循环结构（循环语句）"><a href="#2-3-2-循环结构（循环语句）" class="headerlink" title="2.3.2 循环结构（循环语句）"></a>2.3.2 循环结构（循环语句）</h4><ul>
<li><p>重复运行同一段代码的方法，对列表进行循环操作也叫遍历或迭代</p>
</li>
<li><p>三种循环方式：while、do-while、for</p>
</li>
<li><p>注意</p>
<ul>
<li>尽量避免条件一直成立，造成死循环</li>
<li>for中用let定义的i只能在for中使用,变量作用域-let定义的变量在{}中有局部作用域</li>
<li>循环是可以嵌套的</li>
</ul>
</li>
<li><p>循环控制-break/continue关键字</p>
<ul>
<li>作用：终止循环的执行，可以是某次循环或直接结束整个循环</li>
<li>break：跳出当前循环</li>
<li>continue：本次循环不再执行continue后面的代码，跳入下次循环</li>
</ul>
</li>
<li><p>使用场景：在不知道具体循环次数的时候用while（for循环更加灵活，能用for就用for）</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//执行顺序：先执行begin(只执行一次)，然后进行迭代（先判断condition，成立再执行body，然后step...）</span><br><span class="hljs-keyword">for</span>(begin;condition;step)&#123;<br>  <span class="hljs-comment">//循环代码块</span><br>&#125;<br><span class="hljs-comment">//条件成立执行代码块，不成立不执行</span><br><span class="hljs-keyword">while</span>(循环条件)&#123;<br>  <span class="hljs-comment">//循环代码块</span><br>&#125;<br><span class="hljs-comment">//不管条件成不成立，都会先执行一次循环  </span><br><span class="hljs-keyword">do</span>&#123;<br>	<span class="hljs-comment">//循环代码块 </span><br>&#125;<span class="hljs-keyword">while</span>(循环条件)<br></code></pre></td></tr></table></figure>

<h3 id="2-4-函数"><a href="#2-4-函数" class="headerlink" title="2.4 函数"></a>2.4 函数</h3><h4 id="2-4-1-认识函数"><a href="#2-4-1-认识函数" class="headerlink" title="2.4.1 认识函数"></a>2.4.1 认识函数</h4><ul>
<li><p>程序中的foo、bar、baz</p>
<ul>
<li>作用：经常用作函数、变量、文件的名称，本身没有特殊意义</li>
</ul>
</li>
<li><p>什么是函数</p>
<ul>
<li>已经学习过的函数：alert、prompt、consloe.log、Number…</li>
<li>作用：用于封装一段可以随时反复执行的代码块</li>
</ul>
</li>
</ul>
<h4 id="2-4-2-函数的使用步骤"><a href="#2-4-2-函数的使用步骤" class="headerlink" title="2.4.2 函数的使用步骤"></a>2.4.2 函数的使用步骤</h4><ul>
<li><p>声明函数(定义函数) ：是对某些功能的封装过程</p>
</li>
<li><p>调用函数：调用自己封装好的某个函数，也可调用默认提供的或第三方库定义好的函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//使用关键字function声明函数，()调用函数</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fun</span>(<span class="hljs-params">形参列表</span>)</span>&#123;... <span class="hljs-keyword">return</span>;&#125;  <br>fun();<br></code></pre></td></tr></table></figure></li>
<li><p>注意</p>
<ul>
<li>函数命名规则和变量一样，定义完函数是不会执行的，必须通过()调用才会执行</li>
<li>形参和返回值可有可无，无返回值默认返回undefined</li>
<li>return语句和break语句一样后面不要跟代码，永远不会执行</li>
</ul>
</li>
<li><p>函数的参数</p>
<ul>
<li>形参(parameter)：定义函数时，小括号中的参数，用来接收参数用的，在函数内部作为变量使用</li>
<li>实参(argument)：调用函数时，小括号中的参数，用来把数据传递到函数内部用的</li>
</ul>
</li>
<li><p>函数的返回值</p>
<ul>
<li>使用return关键字来返回结果</li>
<li>一旦在函数中执行return，当前函数会终止</li>
<li>没有使用return或return后什么也不跟，都是返回undefined</li>
</ul>
</li>
<li><p>arguments变量(JS高级学习)</p>
<ul>
<li>由来：arguments对象是所有(非箭头)函数中都可用的局部变量</li>
<li>作用：该对象中保存所有传递给函数的实参（从0位置开始，依次存放）</li>
<li>注意：arguments变量类型是object(array-like)，不是一个数组</li>
</ul>
</li>
</ul>
<h4 id="2-4-3-函数的递归"><a href="#2-4-3-函数的递归" class="headerlink" title="2.4.3 函数的递归"></a>2.4.3 函数的递归</h4><ul>
<li><p>作用：将一个复杂的任务，转换成可以重复执行的相同任务</p>
</li>
<li><p>函数自己调用自己的过程就叫做递归-Recursion（必须有结束条件，否则会无限调用，造成报错）</p>
</li>
<li><p>练习</p>
<ul>
<li>用递归实现一个自己的幂函数pow</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//x的n次幂: pow(x,n)=x * pow(x,n-1)</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pow</span>(<span class="hljs-params">x,n</span>)</span>&#123;<br>  <span class="hljs-keyword">if</span>(n === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> x<br>  <span class="hljs-keyword">return</span> x * pow(x,n-<span class="hljs-number">1</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>实现斐波那契数列（使用递归和不使用递归都实现一编）<ul>
<li>某一个数是前两个数的和：1 1 2 3 5 8 13 21… （第一第二个数都是1）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-4-4-函数作用域"><a href="#2-4-4-函数作用域" class="headerlink" title="2.4.4 函数作用域"></a>2.4.4 函数作用域</h4><ul>
<li><p>什么是作用域：变量在某一个范围内可以使用</p>
</li>
<li><p>由来：在JS(ES5之前-var定义的)中没有块级作用域的概念，但是函数可以定义自己的作用域</p>
</li>
<li><p>函数作用域定义：函数作用域表示在函数内部定义的变量，只有在函数内部才能访问到</p>
</li>
<li><p>外部变量、局部变量</p>
<ul>
<li>局部变量：定义在函数内部的变量</li>
<li>外部变量：定义在函数外部的变量（在a函数外，但可能在其他函数中，叫做a的外部变量）</li>
</ul>
</li>
<li><p>全局变量</p>
<ul>
<li>范围：在所有函数外部(script中)声明的变量</li>
<li>全局变量在任何函数中都是可见的</li>
<li>通过var声明的全局变量会在window对象上添加一个属性</li>
</ul>
</li>
<li><p>函数中的变量访问顺序</p>
<ul>
<li>优先访问自己函数中的变量=&gt;没有找到就依次往外部找</li>
<li>外部函数里也没有=&gt;window对象=&gt;没有定义报错</li>
</ul>
</li>
<li><p>后续学习的：块级作用域、作用域链、变量提升、AO VO GO</p>
</li>
</ul>
<h4 id="2-4-5-函数表达式"><a href="#2-4-5-函数表达式" class="headerlink" title="2.4.5 函数表达式"></a>2.4.5 函数表达式</h4><ul>
<li><p>函数的另外一种定义方式 - 函数表达式</p>
<ul>
<li>函数也是引用数据类型(对象)，所以可以保存到变量中</li>
<li>function 后面一般省略函数名</li>
<li>无论怎么创建函数，函数都是一个特殊的值，值类型是一个对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> foo = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;...&#125;<br>foo()<br></code></pre></td></tr></table></figure></li>
<li><p>函数声明 VS 函数表达式</p>
<ul>
<li><p>语法不同：函数声明是单独的语句声明函数，函数表达式是在表达式或另外的语句中创建函数</p>
</li>
<li><p>JS内部创建函数的时机不同</p>
<ul>
<li><p>函数表达式是代码执行到的时候函数才被创建，函数仅从那一刻开始可用</p>
</li>
<li><p>当JS准备运行脚本时，会在脚本寻找全局函数声明，并创建这些函数，然后再去运行脚本</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">foo()  <span class="hljs-comment">//可以成功调用foo函数，因为JS引擎在执行js脚本前会提前创建全局声明的函数</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;...&#125;<br><br>bar()  <span class="hljs-comment">//报错，找不到bar，因为是使用函数表达式创建函数，属于表达式，不会提前创建函数</span><br><span class="hljs-keyword">var</span> bar = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;...&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>开发选择：首先考虑函数声明语法，因为它更加灵活 - 可以在声明函数前就调用这些函数</p>
</li>
</ul>
</li>
</ul>
<h4 id="2-4-6-头等函数"><a href="#2-4-6-头等函数" class="headerlink" title="2.4.6 头等函数"></a>2.4.6 头等函数</h4><ul>
<li><p>定义：是指在程序设计语言中，函数被当做头等公民</p>
<ul>
<li>函数可以作为<strong>别的函数的参数、返回值、赋值给变量或存储在数据结构中</strong></li>
</ul>
</li>
<li><p>函数式编程 - 函数作为头等公民的编程方式</p>
</li>
<li><p>头等函数的体现</p>
<ul>
<li><p>函数可以被赋值给变量 - 函数表达式写法就是它的一种体现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;...&#125;<br><span class="hljs-keyword">var</span> bar = foo<br>bar()<br></code></pre></td></tr></table></figure></li>
<li><p>函数作为另外一个函数的参数、返回值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>)</span>&#123;...&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">fn</span>)</span>&#123;<br>  fn()<br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">baz</span>(<span class="hljs-params"></span>)</span>&#123;...&#125;<br>  <span class="hljs-comment">//函数作为返回值</span><br>  <span class="hljs-keyword">return</span> baz<br>&#125;<br><span class="hljs-comment">//函数作为参数传递</span><br>foo(bar)<br></code></pre></td></tr></table></figure></li>
<li><p>将函数存储在另外一个数据结构中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> foo = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-attr">running</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;...&#125;<br>&#125;<br>foo.running()<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="2-4-7-回调函数"><a href="#2-4-7-回调函数" class="headerlink" title="2.4.7 回调函数"></a>2.4.7 回调函数</h4><ul>
<li><p>函数回调的理解（Callback Function）</p>
<ul>
<li><p>函数作为参数传递到另外一个函数内部，通过参数去调用函数称为函数的回调</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>)</span>&#123;...&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">fn</span>)</span>&#123;<br>  <span class="hljs-comment">//通过fn去调用bar的过程称为函数的回调</span><br>  fn()<br>&#125;<br>foo(bar)<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>函数回调的案例</p>
<ul>
<li><p>需求：通过URL向服务器发送网络请求，需要花较长时间拿到返回的结果</p>
</li>
<li><p>因为拿到结果需要一定的时间，所以我们可以传入一个回调函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">request</span>(<span class="hljs-params">url,callback</span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;通过URL向服务器发送网络请求，需要花较长时间拿到返回的结果&quot;</span>)<br>  <span class="hljs-comment">//假如拿到了结果</span><br>  <span class="hljs-keyword">var</span> resultList = [<span class="hljs-string">&quot;JS&quot;</span>, <span class="hljs-string">&quot;Vue&quot;</span>, <span class="hljs-string">&quot;React&quot;</span>]<br>  callback(resultList)<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleResult</span>(<span class="hljs-params">res</span>)</span>&#123;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;在handleResult中拿到的结果:&quot;</span>,res)&#125;<br><span class="hljs-comment">//传入函数，拿到结果</span><br>request(<span class="hljs-string">&quot;http://www.baidu.com/abc/getResult&quot;</span>, handleResult)<br><br><span class="hljs-comment">/*-----------代码重构--------------*/</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">request</span>(<span class="hljs-params">url,callback</span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;通过URL向服务器发送网络请求，需要花较长时间拿到返回的结果&quot;</span>)<br>  <span class="hljs-comment">//假如拿到了结果</span><br>  <span class="hljs-keyword">var</span> resultList = [<span class="hljs-string">&quot;JS&quot;</span>, <span class="hljs-string">&quot;Vue&quot;</span>, <span class="hljs-string">&quot;React&quot;</span>]<br>  callback(resultList)<br>&#125;<br><span class="hljs-comment">//传入的函数是没有名字的 - 匿名函数</span><br>request(<span class="hljs-string">&quot;http://www.baidu.com/abc/getResult&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;在handleResult中拿到的结果:&quot;</span>,res<br>&#125;)<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>高阶函数和匿名函数</p>
<ul>
<li>高阶函数至少满足两个条件<ul>
<li>接受一个或多个函数作为输入</li>
<li>输出一个函数</li>
</ul>
</li>
<li><strong>匿名函数</strong><ul>
<li>如果在传入一个函数时，我们没有指定这个变量的名称或通过函数表达式创建函数就称为匿名函数</li>
<li>应用：匿名函数经常作为其他函数的参数或返回值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-4-8-立即执行函数"><a href="#2-4-8-立即执行函数" class="headerlink" title="2.4.8 立即执行函数"></a>2.4.8 立即执行函数</h4><ul>
<li><p>什么是立即执行函数</p>
<ul>
<li><p>专业名字：IIFE - Immediately-Invoked Function Expression（立即调用函数表达式）</p>
</li>
<li><p>含义：函数定义完后立即执行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//匿名函数 + ()</span><br>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;我是一个立即执行函数&quot;</span>)<br>&#125;)()<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>立即执行函数的作用</p>
<ul>
<li>立即执行函数中定义的变量有自己的作用域 - 函数作用域</li>
<li>会创建一个函数作用域，可以避免外界访问或修改内部变量</li>
</ul>
</li>
<li><p>应用场景</p>
<ul>
<li><p>场景一：ES6之前的协同开发就是使用这种方式-防止全局变量的命名冲突</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//应用一: 有自己的函数作用域,可以防止变量的命名冲突</span><br><span class="hljs-keyword">var</span> kygoModule = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">//定义要对外暴露的对象</span><br>  <span class="hljs-keyword">var</span> kygoModule = &#123;&#125;<br>  <br>  <span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;kygo&quot;</span><br>  <span class="hljs-keyword">var</span> age = <span class="hljs-number">18</span><br>  <br>  <span class="hljs-comment">//将外界需要用到的变量和函数添加到对象上</span><br>  kygoModule.age = age<br>  <span class="hljs-keyword">return</span> kygoModule<br>&#125;)()<br><span class="hljs-comment">//只能通过暴露的对象访问</span><br><span class="hljs-built_in">console</span>.log(kygoModule.age)<br></code></pre></td></tr></table></figure></li>
<li><p>场景二：获取所有按钮的监听点击</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//应用二: 遍历按钮并依次添加点击事件,要求打印出第n个按钮被点击了</span><br><span class="hljs-comment">//问题: 每次点击任意按钮都会打印出: 第4个按钮被点击了</span><br><span class="hljs-keyword">var</span> Eles = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&quot;.btn&quot;</span>)<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>  Eles[i].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`我是第<span class="hljs-subst">$&#123;i + <span class="hljs-number">1</span>&#125;</span>个按钮`</span>)<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//重构代码: 使用立即执行函数的函数作用域解决问题</span><br><span class="hljs-comment">//也可以直接使用let定义i就可解决问题</span><br><span class="hljs-keyword">var</span> Eles = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&quot;.btn&quot;</span>)<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>  <span class="hljs-comment">//这里光光使用立即执行函数包裹是不行的,需要每次传递i进入立即函数作用域中</span><br>  (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">j</span>)</span>&#123;<br>    Eles[i].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`我是第<span class="hljs-subst">$&#123;j + <span class="hljs-number">1</span>&#125;</span>个按钮`</span>)<br>  &#125;<br>  &#125;)(i)<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>立即执行函数的其他写法</p>
<ul>
<li><p>立即执行函数必须是一个表达式（整体），不能是一个函数声明</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//错误的写法，这种情况()前面的会被当做函数声明，因为不是一个整体</span><br><span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;...&#125;()<br><span class="hljs-comment">//正确写法，()前面会被当做一个表达式</span><br>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;...&#125;)()<br><span class="hljs-comment">//其他写法(了解即可)</span><br>+<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;...&#125;()<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="2-5-对象"><a href="#2-5-对象" class="headerlink" title="2.5 对象"></a>2.5 对象</h3><h4 id="2-5-1-对象的基本使用"><a href="#2-5-1-对象的基本使用" class="headerlink" title="2.5.1 对象的基本使用"></a>2.5.1 对象的基本使用</h4><ul>
<li><p>为什么需要对象类型？</p>
<ul>
<li>基本数据类型可以存储一些简单的值，但是当需要存储比如：一辆车的信息，一个人的信息</li>
<li>对象类型就是将一类事物的特征和行为组织到了一起</li>
</ul>
</li>
<li><p>对象类型的语法和使用</p>
<ul>
<li><p>使用{Key: Value}  键值对的方式来表示对象</p>
</li>
<li><p>键值对可以是：属性、方法</p>
</li>
<li><p>Key是字符串（我们一般省略引号不写）</p>
</li>
<li><p>value可以是任意类型：基本数据类型、函数、对象等</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//创建一个对象</span><br><span class="hljs-keyword">var</span> foo = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-attr">running</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;I am Running!&quot;</span>)<br>  &#125;,<br>  <span class="hljs-string">&quot;my friend&quot;</span>: &#123;  <span class="hljs-comment">//不推荐这样写，只是为了验证key是字符串</span><br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kobe&quot;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">30</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>函数和方法</p>
<ul>
<li>Function  通过function默认定义的结构就是函数</li>
<li>Method  将一个函数放到对象中作为对象的一个属性，那么这个函数称为方法</li>
</ul>
</li>
</ul>
<h4 id="2-5-2-对象的创建方式"><a href="#2-5-2-对象的创建方式" class="headerlink" title="2.5.2 对象的创建方式"></a>2.5.2 对象的创建方式</h4><ul>
<li><p>创建对象的三种方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//方式一: 对象字面量创建</span><br><span class="hljs-keyword">var</span> foo = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span><br>&#125;<br><br><span class="hljs-comment">//方式二: 通过new Obj创建</span><br><span class="hljs-keyword">var</span> foo1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>()<br>foo1.name = <span class="hljs-string">&quot;kygo1&quot;</span><br><br><span class="hljs-comment">//方式三: 通过其他类创建</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Bar</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br><span class="hljs-keyword">var</span> foo2 = <span class="hljs-keyword">new</span> Bar()<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-5-3-对象的常见操作"><a href="#2-5-3-对象的常见操作" class="headerlink" title="2.5.3 对象的常见操作"></a>2.5.3 对象的常见操作</h4><ul>
<li><p>对象属性、方法的增删改查</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> foo = &#123;&#125;<br><span class="hljs-comment">//增加</span><br>foo.name = <span class="hljs-string">&quot;kygo&quot;</span><br>foo.age = <span class="hljs-number">18</span><br>foo.bar = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br><br><span class="hljs-comment">//删除 delete操作符</span><br><span class="hljs-keyword">delete</span> foo.age<br><br><span class="hljs-comment">//修改（没有属性增加，有属性修改）</span><br>foo.name = <span class="hljs-string">&quot;kygo1&quot;</span><br><br><span class="hljs-comment">//查询</span><br><span class="hljs-built_in">console</span>.log(foo.name)<br><br><span class="hljs-comment">//删除对象属性: </span><br><span class="hljs-keyword">delete</span> obj.name;<br></code></pre></td></tr></table></figure></li>
<li><p>对象的方括号使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//操作对象属性另一种方式:对象[&quot;属性名&quot;]=属性值 (属性名可不遵守规则)</span><br><span class="hljs-keyword">var</span> baz = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-string">&quot;my friend&quot;</span>: <span class="hljs-string">&quot;kobe&quot;</span>,<br>  <span class="hljs-string">&quot;eating something&quot;</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br>&#125;<br><br><span class="hljs-built_in">console</span>.log(baz[<span class="hljs-string">&quot;my friend&quot;</span>])<br><span class="hljs-comment">//将字符串保存在变量中,通过[]使用属性、调用方法</span><br><span class="hljs-keyword">var</span> nameKey = <span class="hljs-string">&quot;name&quot;</span>,eatKey = <span class="hljs-string">&quot;eating something&quot;</span><br><span class="hljs-built_in">console</span>.log(baz[nameKey])<br>baz[eatKey]()<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-5-4-对象的遍历"><a href="#2-5-4-对象的遍历" class="headerlink" title="2.5.4 对象的遍历"></a>2.5.4 对象的遍历</h4><ul>
<li><p>两种遍历数组的方式</p>
<ul>
<li>遍历/迭代：获取对象的所有属性和方法</li>
<li>Object.key(obj) 会返回一个对象的属性名组成的数组</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> foo = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">1.88</span><br>&#125;<br><br><span class="hljs-comment">//普通for循环遍历: 先拿到对象的属性名和属性个数-object.keys</span><br><span class="hljs-keyword">var</span> items = <span class="hljs-built_in">Object</span>.keys(foo)<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">$&#123;items[i]&#125;</span>: <span class="hljs-subst">$&#123;foo[items[i]]&#125;</span>`</span>)<br>&#125;<br><br><span class="hljs-comment">//for...in遍历数组,item会依次拿到每个属性名</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> foo)&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">$&#123;item&#125;</span>: <span class="hljs-subst">$&#123;foo[item]&#125;</span>`</span>)<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-5-5-JS内存分配"><a href="#2-5-5-JS内存分配" class="headerlink" title="2.5.5 JS内存分配"></a>2.5.5 JS内存分配</h4><ul>
<li><p>堆内存heap和栈内存stack</p>
<ul>
<li>程序是需要加载到内存中执行的，而内存可以分为堆内存和栈内存</li>
<li>原始类型占据的空间是在栈内存中分配的</li>
<li>对象类型占据的空间是在堆内存中分配的</li>
</ul>
</li>
<li><p>值类型和引用类型</p>
<ul>
<li><p>值类型：原始数据类型在变量中保存的是值本身</p>
</li>
<li><p>引用类型：对象类型在变量中保存的是对象的 “引用”</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//bar存储在栈内存中，保存的是值类型</span><br><span class="hljs-keyword">var</span> bar = <span class="hljs-string">&quot;kygo&quot;</span><br><br><span class="hljs-comment">//foo对象是分为两个地方存储</span><br><span class="hljs-comment">//&#123;...&#125;对象存储在堆内存中: 假如内存地址是0X110</span><br><span class="hljs-comment">//在栈内存中会存储对象的引用: foo = 0X110 来指向对象</span><br><span class="hljs-keyword">var</span> foo = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span><br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>一些现象的解释</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//现象一： 引用类型的比较</span><br><span class="hljs-keyword">var</span> foo = &#123;&#125;<br><span class="hljs-keyword">var</span> foo1 = &#123;&#125;<br><span class="hljs-built_in">console</span>.log(foo === foo1)<span class="hljs-comment">//false</span><br><br><span class="hljs-comment">//现象二： 引用类型的赋值</span><br><span class="hljs-keyword">var</span> bar = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-attr">friend</span>: &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kobe&quot;</span><br>  &#125;<br>&#125;<br><span class="hljs-keyword">var</span> friend = bar.friend<br>friend.name = <span class="hljs-string">&quot;kobe1&quot;</span><br><span class="hljs-built_in">console</span>.log(bar.friend.name)<span class="hljs-comment">//kobe1</span><br><br><span class="hljs-comment">//现象三： 值传递</span><br><span class="hljs-keyword">var</span> b = <span class="hljs-number">213</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">baz</span>(<span class="hljs-params">arg</span>) </span>&#123;<br>  arg = <span class="hljs-number">318</span><br>&#125;<br>baz(b)<br><span class="hljs-built_in">console</span>.log(b)<span class="hljs-comment">//213</span><br><br><span class="hljs-comment">//现象四： 引用传递，但是在函数中创建了一个新对象，没有对传入对象进行修改</span><br><span class="hljs-keyword">var</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo2</span>(<span class="hljs-params">obj</span>) </span>&#123;<br>  obj = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kobe&quot;</span><br>  &#125;<br>&#125;<br>foo2(obj)<br><span class="hljs-built_in">console</span>.log(obj)<span class="hljs-comment">//&quot;kygo&quot;</span><br><br><span class="hljs-comment">//现象五： 引用传递，但是对传入的对象进行了修改</span><br><span class="hljs-keyword">var</span> obj1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo3</span>(<span class="hljs-params">obj</span>) </span>&#123;<br>  obj.name = <span class="hljs-string">&quot;kobe&quot;</span><br>&#125;<br>foo3(obj1)<br><span class="hljs-built_in">console</span>.log(obj1)<span class="hljs-comment">//&quot;kobe&quot;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-5-6-函数中的this指向"><a href="#2-5-6-函数中的this指向" class="headerlink" title="2.5.6 函数中的this指向"></a>2.5.6 函数中的this指向</h4><ul>
<li><p>什么是this</p>
<ul>
<li>函数中有一个this的变量，大多数情况下this会指向一个对象</li>
</ul>
</li>
<li><p>this的指向</p>
<ul>
<li><p>以默认的方式调用一个函数，this指向window</p>
</li>
<li><p>通过对象调用，this指向调用的对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//普通函数声明的this</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>)<br>&#125; <br>foo() <span class="hljs-comment">//指向window</span><br><br><span class="hljs-comment">//方法的调用（通过对象调用）</span><br><span class="hljs-keyword">var</span> bar = &#123;<br>  <span class="hljs-attr">baz</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>)<br>  &#125;,<br>  <span class="hljs-attr">friend</span>: &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kobe&quot;</span>,<br>    <span class="hljs-attr">running</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>)<br>    &#125;<br>  &#125;<br>&#125;<br><span class="hljs-comment">//谁调用this就指向谁</span><br><span class="hljs-built_in">console</span>.log(bar.baz())  <span class="hljs-comment">//指向bar对象</span><br>bar.friend.running()  <span class="hljs-comment">//指向bar.friend对象</span><br><br><br><span class="hljs-comment">//考验题目一</span><br><span class="hljs-keyword">var</span> baz = bar.baz<br>baz() <span class="hljs-comment">//  this指向window对象</span><br><span class="hljs-comment">//考验题目二</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fun</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>)<br>&#125;<br><span class="hljs-keyword">var</span> foo1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-attr">fun</span>: fun<br>&#125;<br>foo1.fun()  <span class="hljs-comment">//this指向foo1</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>this的应用</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> foo = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">running</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-comment">//没有this的情况</span><br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">$&#123;foo.name&#125;</span> is running! age is <span class="hljs-subst">$&#123;foo.age&#125;</span>`</span>)<br>    <span class="hljs-comment">//使用this</span><br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.name&#125;</span> is running! age is <span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.age&#125;</span>`</span>)<br>  &#125;<br>&#125;<br>foo.running()<br></code></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-5-7-构造函数和类"><a href="#2-5-7-构造函数和类" class="headerlink" title="2.5.7 构造函数和类"></a>2.5.7 构造函数和类</h4><ul>
<li><p>创建一系列相似对象的方式</p>
<ul>
<li>在开发中需要创建一系列的相似对象，如一系列的学生对象</li>
<li>一种方法是直接创建一系列对象，但是这样重复代码太多</li>
<li>第二种方法是封装一个函数用于创建对象 - 工厂函数</li>
<li>第三种方法就是使用构造函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//方式一: 挨个创建</span><br><span class="hljs-keyword">var</span> obj1 = &#123;&#125;<br><span class="hljs-keyword">var</span> obj2 = &#123;&#125;<br><br><span class="hljs-comment">//方式二: 工厂函数创建对象，缺点-打印的对象都是Object类型</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">name, age, heigt</span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> obj = &#123;&#125;<br>  obj.name = name<br>  obj.age = age<br>  obj.height = heigt<br>  <span class="hljs-keyword">return</span> obj<br>&#125;<br><span class="hljs-keyword">var</span> foo1 = foo(<span class="hljs-string">&quot;kygo&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-number">1.88</span>)<br><span class="hljs-keyword">var</span> foo2 = foo(<span class="hljs-string">&quot;kobe&quot;</span>, <span class="hljs-number">30</span>, <span class="hljs-number">1.98</span>)<br><span class="hljs-built_in">console</span>.log(foo1, foo2)<br></code></pre></td></tr></table></figure></li>
<li><p>认识构造函数</p>
<ul>
<li>构造函数也称为构造器constructor，是我们在创建对象时会调用的函数</li>
<li>在其他编程语言中，构造函数其实是类中的一个方法，称之为构造方法</li>
<li>JS中的构造函数有点不太一样，构造函数扮演了其他语言中类的角色</li>
<li>ES5之前，都是通过function来声明一个构造函数(类)，之后通过new关键字来对其调用</li>
<li>ES6之后，JS可以向别的语言一样，通过class来声明一个类</li>
<li>类和对象的关系：类是一类事物的统称(如：水果)，而对象是具体的体现（如：苹果）</li>
</ul>
</li>
</ul>
<ul>
<li><p>类(ES5)</p>
<ul>
<li>JS中的类的表示形式就是构造函数，构造函数===类</li>
<li>构造函数<ul>
<li>构造函数也是一个普通的函数，表现形式和其他函数没有任何区别</li>
<li>如果一个普通函数使用new操作符来调用了，这个函数就称为构造函数</li>
</ul>
</li>
<li>函数被new操作符调用了，会执行以下操作（了解）<ul>
<li>在内存中创建一个新的空对象</li>
<li>这个对象内部的[prototype]属性会被赋值为该构造函数的[prototype]属性</li>
<li>构造函数内部的this，会指向创建出来的新对象</li>
<li>执行函数的内部代码</li>
<li>如果构造函数没有返回非空对象，则返回创建出来的新对象</li>
</ul>
</li>
<li>构造函数的补充<ul>
<li>构造函数的名称：使用大驼峰</li>
</ul>
</li>
</ul>
</li>
<li><p>创建对象的方案 - 类</p>
<ul>
<li><p>构造函数可以确保创建的对象是Person类型的(实际是constructor属性)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//构造函数创建对象</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name, age, height</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.name = name<br>  <span class="hljs-built_in">this</span>.age = age<br>  <span class="hljs-built_in">this</span>.height = height<br>  <span class="hljs-built_in">this</span>.running = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`my name is <span class="hljs-subst">$&#123;name&#125;</span>`</span>)<br>  &#125;<br>&#125;<br><span class="hljs-keyword">var</span> person1 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&quot;kygo&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-number">1.88</span>)<br><span class="hljs-keyword">var</span> person2 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&quot;kobe&quot;</span>, <span class="hljs-number">30</span>, <span class="hljs-number">1.98</span>)<br><span class="hljs-built_in">console</span>.log(person1, person2)<br></code></pre></td></tr></table></figure></li>
<li><p>构造函数的其他特征（JS高级）</p>
<ul>
<li>原型、原型链、实现继承的方案</li>
<li>ES6中的类、继承的实现</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-5-8-全局对象window"><a href="#2-5-8-全局对象window" class="headerlink" title="2.5.8 全局对象window"></a>2.5.8 全局对象window</h4><ul>
<li><p>由来</p>
<ul>
<li>浏览器中有一个全局对象window</li>
</ul>
</li>
<li><p>作用</p>
<ul>
<li><p>查找变量最终会查找到window上</p>
</li>
<li><p>将一些浏览器全局提供给我们的变量、函数、对象，放在window对象上</p>
</li>
<li><p>使用var定义的变量会被默认添加到window上面</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>)<br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.console === <span class="hljs-built_in">console</span>)  <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.document === <span class="hljs-built_in">document</span>)  <span class="hljs-comment">//true</span><br><br><span class="hljs-keyword">var</span> foo = <span class="hljs-number">213</span>, bar = &#123;&#125;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.foo, <span class="hljs-built_in">window</span>.bar === bar) <span class="hljs-comment">//213</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="2-5-9-函数也是对象"><a href="#2-5-9-函数也是对象" class="headerlink" title="2.5.9 函数也是对象"></a>2.5.9 函数也是对象</h4><ul>
<li><p>函数也是引用类型，存储在堆内存中</p>
<ul>
<li>虽然typeof函数结果为function，但是function类型都是对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//foo中存储的是函数的内存地址,如0X101</span><br><span class="hljs-comment">//栈内存存储：foo = 0X101  堆内存中存储： function()&#123;&#125; 内存地址为0X101</span><br><span class="hljs-keyword">var</span> foo = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br><span class="hljs-comment">//将foo中存储的内存地址赋值给bar</span><br><span class="hljs-keyword">var</span> bar = foo<br><span class="hljs-comment">//通过内存地址来调用堆内存中的函数</span><br>bar()<br>foo()<br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> foo)  <span class="hljs-comment">//function =&gt; Object</span><br><span class="hljs-comment">//地址-指针-引用</span><br><span class="hljs-comment">//定义对象类型的变量,obj/foo/bar都是存储在堆内存中的</span><br><span class="hljs-keyword">var</span> obj = &#123;&#125;<br><span class="hljs-keyword">var</span> foo = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-6-常见内置类"><a href="#2-6-常见内置类" class="headerlink" title="2.6. 常见内置类"></a>2.6. 常见内置类</h3><ul>
<li>内置类：默认javascript已经给我们封装好的类(构造函数)，我们只需要去使用即可</li>
</ul>
<h4 id="3-1-认识包装类型"><a href="#3-1-认识包装类型" class="headerlink" title="3.1 认识包装类型"></a>3.1 认识包装类型</h4><ul>
<li><p>JS的原始类型并非对象类型，从理论上来说是没办法获取属性和方法的</p>
</li>
<li><p>奇怪的现象</p>
<ul>
<li><p>我们可以看到原始类型调用了属性和方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> msg = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">console</span>.log(msg.length) <span class="hljs-comment">//11</span><br><span class="hljs-built_in">console</span>.log(msg.split(<span class="hljs-string">&quot; &quot;</span>)) <span class="hljs-comment">//[&#x27;hello&#x27;,&#x27;world&#x27;]</span><br><br><span class="hljs-keyword">var</span> num = <span class="hljs-number">3.14159</span><br><span class="hljs-built_in">console</span>.log(num.toFixed(<span class="hljs-number">2</span>)) <span class="hljs-comment">//3.14</span><br></code></pre></td></tr></table></figure></li>
<li><p>现象解释：JS为了其可以调用属性和方法，封装了对应的包装类型（String、Number）</p>
</li>
</ul>
</li>
<li><p>常见的包装类型</p>
<ul>
<li>String、Number、Boolean、Symbol、BigInt类型</li>
</ul>
</li>
<li><p>包装类型的使用过程</p>
<ul>
<li><p>默认情况，当我们调用一个原始类型的属性或者方法时，会进行以下操作</p>
</li>
<li><p>通常JS引擎会做很多优化：它可以跳过创建包装类过程，在内部直接完成属性的获取或方法调用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> num = <span class="hljs-number">3.14159</span><br><span class="hljs-built_in">console</span>.log(num.toFixed(<span class="hljs-number">2</span>)) <span class="hljs-comment">//3.14</span><br><br><span class="hljs-comment">//js内部做了以下操作</span><br><span class="hljs-comment">//1.根据原始值，创建一个原始类型对应的包装类型对象</span><br><span class="hljs-keyword">var</span> numObj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(num)<br><span class="hljs-comment">//2.调用对应的属性和方法，返回一个新的值</span><br><span class="hljs-keyword">var</span> result = numObj.toFixed(<span class="hljs-number">2</span>)<br><span class="hljs-comment">//3.创建的包装类对象被销毁</span><br><span class="hljs-built_in">console</span>.log(result)<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="3-2-数字包装类Number"><a href="#3-2-数字包装类Number" class="headerlink" title="3.2 数字包装类Number"></a>3.2 数字包装类Number</h4><ul>
<li><p>属性的补充</p>
<ul>
<li>最大/小安全整数<ul>
<li>Number.MAX_SAFE_INTEGER/Number.MIN_SAFE_INTEGER</li>
</ul>
</li>
</ul>
</li>
<li><p>实例方法的补充</p>
<ul>
<li>toString([base])<ul>
<li>数字转字符串，并且按照base进制转化</li>
<li>注意：直接对数字操作需要使用..运算符(如：123..toString())</li>
</ul>
</li>
<li>toFixed(digits)<ul>
<li>格式化数字，保留digits位小数，返回字符串(注意)</li>
</ul>
</li>
</ul>
</li>
<li><p>类方法的补充</p>
<ul>
<li>Number.parseInt(string [, base]) 字符串转整数，也有对应的全局方法parseInt</li>
<li>Number.parseFloat(string)  字符串转浮点数，也有全局方法parseFloat</li>
</ul>
</li>
<li><p>其他方法用到查MDN即可</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number</a></li>
</ul>
</li>
<li><p>程序示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//数字静态属性</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Number</span>.MAX_SAFE_INTEGER, <span class="hljs-built_in">Number</span>.MIN_SAFE_INTEGER)<br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Number</span>.MAX_VALUE, <span class="hljs-built_in">Number</span>.MIN_VALUE)<br><br><span class="hljs-comment">//实例方法: toString/toFixed</span><br><span class="hljs-keyword">var</span> num = <span class="hljs-number">213</span><br><span class="hljs-built_in">console</span>.log(num.toString(<span class="hljs-number">8</span>), <span class="hljs-keyword">typeof</span> num.toString(<span class="hljs-number">8</span>))  <span class="hljs-comment">//325 string</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">123.</span>.toString(), <span class="hljs-number">123.321</span>.toFixed(<span class="hljs-number">1</span>))  <span class="hljs-comment">//123 123.3</span><br><br><span class="hljs-keyword">var</span> num1 = <span class="hljs-number">213.318</span><br><span class="hljs-built_in">console</span>.log(num1.toFixed(<span class="hljs-number">2</span>), <span class="hljs-keyword">typeof</span> num1.toFixed(<span class="hljs-number">2</span>))  <span class="hljs-comment">//213.32 string</span><br><br><span class="hljs-comment">//静态方法/全局对象方法 parseInt/parseFloat</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Number</span>.parseInt(<span class="hljs-string">&quot;213aaa&quot;</span>))  <span class="hljs-comment">//213</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Number</span>.parseFloat(<span class="hljs-string">&quot;213.318bbb&quot;</span>))  <span class="hljs-comment">//213.318</span><br><span class="hljs-comment">//同一个方法</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Number</span>.parseInt === <span class="hljs-built_in">parseInt</span>) <span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="3-3-数学对象Math"><a href="#3-3-数学对象Math" class="headerlink" title="3.3 数学对象Math"></a>3.3 数学对象Math</h4><ul>
<li><p>Math对象简单认识</p>
<ul>
<li>除了Number类可以对数字进行处理外，JS还提供了一个Math对象</li>
<li>Math是一个内置对象（不是一个构造函数），它有一些数学常数属性和数学函数方法</li>
</ul>
</li>
<li><p>Math常用属性</p>
<ul>
<li>Math.PI - 圆周率</li>
</ul>
</li>
<li><p>Math常见方法</p>
<ul>
<li>Math.floor - 向下取整</li>
<li>Math.ceil - 向上取整</li>
<li>Math.round - 四舍五入取整</li>
<li>Math.random - 生成[0,1)的随机数</li>
<li>Math.pow(x,y) - 返回x的y次幂</li>
</ul>
</li>
<li><p>其他方法见MDN</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math</a></li>
</ul>
</li>
<li><p>程序示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//静态属性</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.PI)  <span class="hljs-comment">//3.14159...</span><br><br><span class="hljs-comment">//静态方法</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">3.14</span>)) <span class="hljs-comment">//3</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.ceil(<span class="hljs-number">3.14</span>))  <span class="hljs-comment">//4</span><br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.round(<span class="hljs-number">2.4</span>))  <span class="hljs-comment">//2</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.round(<span class="hljs-number">2.5</span>))  <span class="hljs-comment">//3</span><br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>))  <span class="hljs-comment">//8</span><br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.random())<br><span class="hljs-comment">//获取任意区间随机数 m~n x=n-m y=m   </span><br><span class="hljs-comment">//Math.floor(Math.random() * x + y)</span><br><span class="hljs-comment">//100个[10,100)的数字</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random()* <span class="hljs-number">90</span> + <span class="hljs-number">10</span>))<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="3-4-字符串包装类String"><a href="#3-4-字符串包装类String" class="headerlink" title="3.4 字符串包装类String"></a>3.4 字符串包装类String</h4><ul>
<li><p>String类的基本使用</p>
<ul>
<li>开发中，我们经常需要对字符串进行各种操作，String类给我们提供了对应的属性和方法</li>
<li>String类常见属性<ul>
<li>length - 获取字符串长度</li>
</ul>
</li>
<li>访问字符串的字符<ul>
<li>方法一：字符串索引 arr[0]</li>
<li>方法二：通过str.charAt(pos)方法</li>
<li>区别：索引方式没有找到会返回undefined，charAt没有找到会回空字符串</li>
</ul>
</li>
<li>字符串的遍历<ul>
<li>方法一：普通for循环</li>
<li>方法二：for…of遍历</li>
</ul>
</li>
</ul>
</li>
<li><p>修改字符串</p>
<ul>
<li>字符串的不可变性<ul>
<li>字符串定义后是不可修改的，如：str[1] = “A” 不会起作用</li>
</ul>
</li>
<li>以下修改字符串的方法，都是返回新的字符串（不修改原字符串）<ul>
<li>toLowerCase() - 将所有字符串转为小写</li>
<li>toUpperCase() - 将所有字符串转为大写</li>
</ul>
</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;Hello World!&quot;</span><br><span class="hljs-comment">//获取字符串长度</span><br><span class="hljs-built_in">console</span>.log(str.length)  <span class="hljs-comment">//12</span><br><span class="hljs-comment">//访问字符串字符</span><br><span class="hljs-built_in">console</span>.log(str[<span class="hljs-number">4</span>])  <span class="hljs-comment">//o</span><br><span class="hljs-built_in">console</span>.log(str.charAt(<span class="hljs-number">4</span>))  <span class="hljs-comment">//o</span><br><span class="hljs-built_in">console</span>.log(str[<span class="hljs-number">100</span>], str.charAt(<span class="hljs-number">100</span>))  <span class="hljs-comment">//undefined &#x27;&#x27;</span><br><span class="hljs-comment">//字符串的遍历</span><br><span class="hljs-comment">//普通for遍历</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; str.length; i++) &#123;<br>  <span class="hljs-built_in">console</span>.log(str[i])<br>&#125;<br><span class="hljs-comment">//for...of 迭代器遍历</span><br><span class="hljs-comment">//目前支持可迭代对象: 字符串/数组(对象不支持)</span><br><span class="hljs-comment">//String对象内部把字符串变成了一个可迭代对象</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> char <span class="hljs-keyword">of</span> str) &#123;<br>  <span class="hljs-built_in">console</span>.log(char)<br>&#125;<br><br><span class="hljs-comment">//修改字符串</span><br>str[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;c&#x27;</span><br><span class="hljs-built_in">console</span>.log(str)  <span class="hljs-comment">//字符串不可变性,这样操作无意义</span><br><span class="hljs-comment">//两个转小写大写方法(重要)</span><br><span class="hljs-built_in">console</span>.log(str.toLowerCase())  <span class="hljs-comment">//hello world!</span><br><span class="hljs-built_in">console</span>.log(str.toUpperCase())  <span class="hljs-comment">//HELLO WORLD!</span><br></code></pre></td></tr></table></figure></li>
<li><p>查找字符串</p>
<ul>
<li>开发中经常会在一个字符串中查找或获取另外一个字符串</li>
<li>方法一：查找字符串位置<ul>
<li>str . indexOf(searchValue [, fromIndex])</li>
<li>方法解释：从fromIndex开始，查找searchValue的索引，没有找到返回-1</li>
<li>相似方法：lastIndexOf，从最后开始查找（用得较少）</li>
</ul>
</li>
<li>方法二：是否包含字符串<ul>
<li>str . Includes (searchString [, position])    (ES6中新增方法)</li>
<li>从position位置开始查找searchString，返回true或false</li>
</ul>
</li>
<li>方法三：以XXX开头<ul>
<li>str . startsWith(searchString [, position])</li>
<li>从position位置开始，判断字符串是否以searchString开头(ES6 新增方法)</li>
</ul>
</li>
<li>方法四：以XXX结尾<ul>
<li>str.endsWith(searchString[, length])</li>
<li>在length长度内，判断是否以searchString结束</li>
</ul>
</li>
<li>方法五：替换字符串<ul>
<li>str.replace(regexp|substr, newSubStr|function)</li>
<li>查找substr字符串(也可使用regexp正则表达式)，使用新的字符串替换(也可传入函数替换)</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;Hello World!&quot;</span><br><span class="hljs-comment">//indexOf/lastIndexOf查找字符串(没有找到返回-1)</span><br><span class="hljs-built_in">console</span>.log(str.indexOf(<span class="hljs-string">&quot;llo&quot;</span>))  <span class="hljs-comment">//2</span><br><span class="hljs-built_in">console</span>.log(str.indexOf(<span class="hljs-string">&quot;He&quot;</span>, <span class="hljs-number">2</span>))  <span class="hljs-comment">//-1 </span><br><span class="hljs-built_in">console</span>.log(str.lastIndexOf(<span class="hljs-string">&quot;He&quot;</span>))  <span class="hljs-comment">//0</span><br><span class="hljs-comment">//includes是否包含字符串</span><br><span class="hljs-built_in">console</span>.log(str.includes(<span class="hljs-string">&quot;lo&quot;</span>))  <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(str.includes(<span class="hljs-string">&quot;lo&quot;</span>, <span class="hljs-number">5</span>))  <span class="hljs-comment">//false</span><br><br><span class="hljs-comment">//以XXX开始,XXX结尾</span><br><span class="hljs-built_in">console</span>.log(str.startsWith(<span class="hljs-string">&quot;llo&quot;</span>))  <span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.log(str.startsWith(<span class="hljs-string">&quot;llo&quot;</span>, <span class="hljs-number">2</span>))  <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(str.endsWith(<span class="hljs-string">&quot;ld!&quot;</span>))  <span class="hljs-comment">//true</span><br><br><span class="hljs-comment">//字符串的替换</span><br><span class="hljs-built_in">console</span>.log(str.replace(<span class="hljs-string">&quot;o&quot;</span>, <span class="hljs-string">&quot;cth&quot;</span>))  <span class="hljs-comment">//Hellcth World!</span><br><span class="hljs-comment">//将o替换为大写O</span><br><span class="hljs-built_in">console</span>.log(str.replace(<span class="hljs-string">&quot;o&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;O&quot;</span>	<span class="hljs-comment">//返回的值即替换的值</span><br>&#125;))<br></code></pre></td></tr></table></figure></li>
<li><p>获取子字符串（开发推荐slice方法）</p>
<ul>
<li>slice(start, end)    [start, end) 切割字符串，获得子串</li>
<li>substring(start, end)    [start, end) 切割字符串</li>
<li>substr(start, length)    从start开始获取长度为length的字符串</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;hi kygo!&quot;</span><br><span class="hljs-comment">//三种获取子字符串的方法</span><br><span class="hljs-comment">//推荐slice,支持负数(从右往左数)</span><br><span class="hljs-built_in">console</span>.log(str.slice(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>))  <span class="hljs-comment">//kygo  [3,7)</span><br><span class="hljs-built_in">console</span>.log(str.slice(<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>))  <span class="hljs-comment">//hi kygo  [0,-1)</span><br><span class="hljs-built_in">console</span>.log(str.substring(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>))  <span class="hljs-comment">//kygo  [3,7)</span><br><span class="hljs-comment">//第三个位置开始,截取4个字符</span><br><span class="hljs-built_in">console</span>.log(str.substr(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>))  <span class="hljs-comment">//kygo</span><br></code></pre></td></tr></table></figure></li>
<li><p>其他方法</p>
<ul>
<li><p>拼接字符串</p>
<ul>
<li>str.concat(str2[,…strN])</li>
</ul>
</li>
<li><p>删除首尾空格</p>
<ul>
<li>str.trim()</li>
</ul>
</li>
<li><p>字符串分割</p>
<ul>
<li>str.split([separator[, limit]])</li>
<li>以separator分割，也可是一个正则表达式，limit限制返回分割后片断的数量</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//拼接字符串: +/concat</span><br><span class="hljs-built_in">console</span>.log(str.concat(<span class="hljs-string">&quot;go&quot;</span>).concat(<span class="hljs-string">&quot;go&quot;</span>).concat(<span class="hljs-string">&quot;go!&quot;</span>))  <span class="hljs-comment">//链式调用</span><br><span class="hljs-built_in">console</span>.log(str.concat(<span class="hljs-string">&quot;gogogo&quot;</span>, <span class="hljs-string">&quot;!&quot;</span>))  <span class="hljs-comment">//hi kygo!gogogog</span><br><br><span class="hljs-comment">//删除字符串首尾空格</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot; ky  go &quot;</span>.trim())  <span class="hljs-comment">//ky  go</span><br><br><span class="hljs-comment">//字符串分割,默认每个字母为单位分割</span><br><span class="hljs-keyword">var</span> str1 = <span class="hljs-string">&quot;ab-cd-ef-gh&quot;</span><br><span class="hljs-keyword">var</span> items = str1.split(<span class="hljs-string">&quot;-&quot;</span>)<br><span class="hljs-keyword">var</span> newStr1 = items.join(<span class="hljs-string">&quot;*&quot;</span>) <span class="hljs-comment">//数组的join</span><br><span class="hljs-built_in">console</span>.log(items)  <span class="hljs-comment">//[&#x27;ab&#x27;, &#x27;cd&#x27;, &#x27;ef&#x27;, &#x27;gh&#x27;]</span><br><span class="hljs-built_in">console</span>.log(newStr1)  <span class="hljs-comment">//ab*cd*ef*gh</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>MDN文档：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String</a></p>
</li>
</ul>
<h4 id="3-5-Date类型的使用"><a href="#3-5-Date类型的使用" class="headerlink" title="3.5 Date类型的使用"></a>3.5 Date类型的使用</h4><ul>
<li><p>时间的表示方式（了解）</p>
<ul>
<li>最初通过观测太阳的位置决定时间，缺点：不同区域位置使用的时间不同</li>
<li>之后开始制作标准时间：英国伦敦格的皇家格林威治天文台的标准时间(GMT)<ul>
<li>以本初子午线为标准（经度0度）</li>
<li>其他时区根据地理位置确定：往东的时区(GMT+hh:mm)  往西的时区(GMT-hh)</li>
</ul>
</li>
<li>但是公转有一定误差，所以造成GMT的时间有一定误差，于是提出了根<strong>据原子钟计算的标准时间UTC</strong></li>
<li>目前GMT依然在使用，主要表示某个时区中的时间，而UTC是标准的时间</li>
<li>举例：中国在UTC往东(东八区)，所以北京标准时间是在UTC时间上加8小时</li>
</ul>
</li>
<li><p>Date对象的创建</p>
<ul>
<li><p>JS中使用Date来表示和处理时间</p>
</li>
<li><p>Date构造函数用法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1. 没有传入获取当前时间</span><br><span class="hljs-keyword">var</span> date1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()<br><span class="hljs-built_in">console</span>.log(date1)<br><span class="hljs-comment">//2. 传入时间字符串获取时间</span><br><span class="hljs-keyword">var</span> date2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">&quot;2023-02-18&quot;</span>)<br><span class="hljs-built_in">console</span>.log(date2)<br><span class="hljs-comment">//3. 传入Unix时间戳获取时间</span><br><span class="hljs-keyword">var</span> date3 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">1321331211312</span>)<br><span class="hljs-built_in">console</span>.log(date3)<br><span class="hljs-comment">//4. 依次传入 年月日时分秒毫秒 获取时间</span><br><span class="hljs-keyword">var</span> date4 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2023</span>,<span class="hljs-number">2</span>,<span class="hljs-number">18</span>,<span class="hljs-number">14</span>,<span class="hljs-number">54</span>,<span class="hljs-number">10</span>,<span class="hljs-number">123</span>)<br><span class="hljs-built_in">console</span>.log(date4)<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>dateString时间的表示方式</p>
<ul>
<li><p>RFC 2822标准</p>
<ul>
<li>默认打印的时间格式就是RFC标准的：new Date()</li>
</ul>
</li>
<li><p>ISO 8601标准</p>
<ul>
<li>转成ISO标准：new Date().toISOString()</li>
<li>YYYY-MM-DDTHH:mm:ss.sssZ    （T用于分隔可省略，Z表示时区，SSS表示毫秒）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//时间格式</span><br><span class="hljs-keyword">var</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()<br><span class="hljs-built_in">console</span>.log(date) <span class="hljs-comment">//Sat Feb 18 2023 15:01:14 GMT+0800 (中国标准时间)</span><br><span class="hljs-built_in">console</span>.log(date.toISOString()) <span class="hljs-comment">//2023-02-18T07:01:14.835Z</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Date获取信息的方法</p>
<ul>
<li><p>从Date对象中获取各种详细的信息</p>
</li>
<li><p>getFullYear()  getMonth()  getDate()    获取年月日(注意：月份是0-11)</p>
</li>
<li><p>getHours()  getMinutes()  getSeconds()  getMilliseconds   获取时分秒毫秒</p>
</li>
<li><p>getDay()    获取一周中的第几天，从0(周天)-6(周六)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//date获取信息方法</span><br><span class="hljs-keyword">var</span> nowDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()<br><span class="hljs-built_in">console</span>.log(nowDate.getFullYear())  <span class="hljs-comment">//2023</span><br><span class="hljs-built_in">console</span>.log(nowDate.getMonth())  <span class="hljs-comment">//1 (当前是2月)</span><br><span class="hljs-comment">//获取当前是一周的第几天</span><br><span class="hljs-built_in">console</span>.log(nowDate.getDay())  <span class="hljs-comment">//6 (星期六)</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Date的设置方法</p>
<ul>
<li><p>setFullYear…（get方法也有对应的set方法）</p>
</li>
<li><p>不同的是setFullYear(year,[month],[date])、setHours(hour,[min]…)可以设置多个参数</p>
</li>
<li><p>setTime(milliseconds)    传入时间戳设置时间</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//date的设置方法</span><br><span class="hljs-keyword">var</span> setDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()<br>setDate.setFullYear(<span class="hljs-number">2050</span>) <br><span class="hljs-built_in">console</span>.log(setDate)  <span class="hljs-comment">//Fri Feb 18 2050 15:10:19 GMT+0800 (中国标准时间)</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Date获取Unix时间戳</p>
<ul>
<li><p>Unix时间戳：一个整数值，表示自1970年1月1日00:00:00 UTC以来的毫秒数</p>
</li>
<li><p>JS中，有多个方法可以获取到时间戳</p>
<ul>
<li>new Date().getTime()</li>
<li>new Date().valueOf()</li>
<li>Date.now()</li>
<li>+new Date()  算数运算符自动转换</li>
</ul>
</li>
<li><p>获取到Unix时间戳后，可以用作测试代码性能(运行时间)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//Date获取Unix时间戳</span><br><span class="hljs-keyword">var</span> unixDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()<br><span class="hljs-comment">//将一个date对象转成时间戳</span><br><span class="hljs-built_in">console</span>.log(unixDate.getTime())<br><span class="hljs-built_in">console</span>.log(unixDate.valueOf())<br><span class="hljs-comment">//获取当前时间戳</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Date</span>.now())<br><span class="hljs-built_in">console</span>.log(+unixDate)  <span class="hljs-comment">//不推荐</span><br><br><span class="hljs-comment">//计算操作所花时间</span><br><span class="hljs-keyword">var</span> startTime = <span class="hljs-built_in">Date</span>.now()<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">10000</span>; i++) &#123;<br>  <span class="hljs-built_in">console</span>.log(i)<br>&#125;<br><span class="hljs-keyword">var</span> endTime = <span class="hljs-built_in">Date</span>.now()<br><span class="hljs-built_in">console</span>.log(endTime - startTime)  <span class="hljs-comment">//147ms</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Date.parse方法</p>
<ul>
<li>作用：将时间字符串转为时间戳</li>
<li>注意<ul>
<li>作用等同于new Date(dateString).getTime()操作</li>
<li>需要符合RFC或ISO日期格式的字符串，如：YYYY-MM-DDTHH:mm:ss:sssZ</li>
<li>如果输入的格式不能被解析，则返回NaN</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//字符串转时间戳</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Date</span>.parse(<span class="hljs-string">&quot;2023-3-18&quot;</span>))<br><span class="hljs-comment">//以上方法和以下方法同样的效果</span><br><span class="hljs-built_in">console</span>.log((<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">&quot;2023-3-18&quot;</span>)).getTime())<br><span class="hljs-built_in">console</span>.log((<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">&quot;2023-3-18&quot;</span>)).valueOf())<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-7-数组Array使用详解"><a href="#2-7-数组Array使用详解" class="headerlink" title="2.7 数组Array使用详解"></a>2.7 数组Array使用详解</h3><ul>
<li><p>什么是数组</p>
<ul>
<li>可以通过索引来访问的有序集合叫做数组，通过[]创建</li>
<li>数组是一种特殊的对象类型</li>
</ul>
</li>
<li><p>数组的注意点</p>
<ul>
<li><p>数组对应索引没有存储数据时默认为undefined</p>
</li>
<li><p>访问数组不存在的索引不会报错，返回undefined</p>
</li>
<li><p>数组存储空间不足时会自动扩容</p>
</li>
<li><p>数组可以存储不同的数据类型</p>
</li>
<li><p>数组分配的存储空间不一定是连续的(因为存储的数据类型不同)</p>
</li>
</ul>
</li>
</ul>
<h4 id="2-7-1-数组的创建方式"><a href="#2-7-1-数组的创建方式" class="headerlink" title="2.7.1 数组的创建方式"></a>2.7.1 数组的创建方式</h4><ul>
<li><p>两种方式：通过[ ]创建、通过new Array创建</p>
</li>
<li><p>创建数组时，设置数组长度（少用）</p>
</li>
<li><p>代码示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//[]字面量创建数组</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br><span class="hljs-keyword">var</span> student = [<br>  &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">111</span>, <span class="hljs-attr">name</span>: kygo, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>&#125;,<br>  &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">222</span>, <span class="hljs-attr">name</span>: kygo1, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span>&#125;,<br>  &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">333</span>, <span class="hljs-attr">name</span>: kygo2, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>&#125;<br>] <br><span class="hljs-comment">//new创建数组</span><br><span class="hljs-keyword">var</span> arr1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<br><span class="hljs-comment">//创建一个长度为5的空数组</span><br><span class="hljs-keyword">var</span> arr2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-7-2-数组的基本操作"><a href="#2-7-2-数组的基本操作" class="headerlink" title="2.7.2 数组的基本操作"></a>2.7.2 数组的基本操作</h4><ul>
<li><p>基本操作</p>
<ul>
<li><p>访问数组元素：arr[]/arr.at()</p>
<ul>
<li>区别：at可以设置负数，从数组后面往前数</li>
</ul>
</li>
<li><p>修改数组元素：arr[0] = “cth”</p>
</li>
<li><p>删除和添加数组</p>
<ul>
<li>也可以通过索引来操作(开发很少这样做)：delete arr[1]   arr[100]=100</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-comment">//访问数组元素[]/at</span><br><span class="hljs-built_in">console</span>.log(arr[<span class="hljs-number">0</span>])  <span class="hljs-comment">//1</span><br><span class="hljs-built_in">console</span>.log(arr.at(-<span class="hljs-number">1</span>))  <span class="hljs-comment">//3</span><br><span class="hljs-comment">//修改数组元素</span><br>arr[<span class="hljs-number">1</span>] = <span class="hljs-number">100</span><br><span class="hljs-comment">//删除/增加数组元素(这种方式不常用)</span><br><span class="hljs-keyword">delete</span> arr[<span class="hljs-number">2</span>]<br>arr[<span class="hljs-number">5</span>] = <span class="hljs-number">200</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>数组的添加、删除方法一</p>
<ul>
<li><p>push/pop</p>
<ul>
<li>从数组末端增加、删除元素</li>
</ul>
</li>
<li><p>unshift/shift</p>
<ul>
<li>从数组首端添加、删除元素，整个数组元素向后、前移动</li>
</ul>
</li>
<li><p>注意</p>
<ul>
<li>添加元素可添加多个，但删除只能一个个删</li>
<li>push/pop方法比unshift/shift效率高很多</li>
<li>增加元素方法会返回增加后数组长度，删除会返回删除的那个元素</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//数组尾部增加/删除数组元素-push/pop</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br>arr.push(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment">//[3, 2, 1, 0, 1, 2]</span><br><span class="hljs-keyword">var</span> popitem = arr.pop()  <span class="hljs-comment">//[3, 2, 1, 0, 1]</span><br><span class="hljs-built_in">console</span>.log(popitem)  <span class="hljs-comment">//2</span><br><br><br><span class="hljs-comment">//数组首部增加/删除数组元素-unshift/shift</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br>arr.unshift(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment">//[0, 1, 3, 2, 1]</span><br>arr.shift()  <span class="hljs-comment">//[1, 3, 2, 1]</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>数组的添加、删除方法二</strong></p>
<ul>
<li><p>如果想在数组中间某个位置添加、删除元素，就必须使用splice方法了</p>
</li>
<li><p>语法：arr.splice(start[, deleteCount[, item1[, item2[,…]]]])</p>
<ul>
<li>从start位置开始处理数组元素</li>
<li>deleteCount：要删除元素的个数，为0或负数表示不删除</li>
<li>item1,item2,…：需要添加的元素</li>
</ul>
</li>
<li><p>注意：splice方法会修改原数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//数组增删改通用-splice</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-comment">//在数组开头增加6,7两个元素</span><br>arr.splice(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>)<br><span class="hljs-built_in">console</span>.log(arr)  <span class="hljs-comment">//[6,7,1,2,3,4,5]</span><br><span class="hljs-comment">//删除索引为2,3的两个元素</span><br>arr.splice(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(arr)  <span class="hljs-comment">//[6,7,3,4,5]</span><br><span class="hljs-comment">//修改索引为4的元素值为100</span><br>arr.splice(<span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br><span class="hljs-built_in">console</span>.log(arr)  <span class="hljs-comment">//[6,7,3,4,100]</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="2-7-3-数组的遍历和length属性"><a href="#2-7-3-数组的遍历和length属性" class="headerlink" title="2.7.3 数组的遍历和length属性"></a>2.7.3 数组的遍历和length属性</h4><ul>
<li><p>length属性</p>
<ul>
<li>作用：获取数组长度，当修改数组时length会自动更新</li>
<li>length是可写的<ul>
<li>如果设置大于默认lenght数值会增加数组长度</li>
<li>设置小于默认length的数值会截断数组</li>
</ul>
</li>
<li>清空数组最简单的方法：arr.length = 0</li>
</ul>
</li>
<li><p>数组的遍历</p>
<ul>
<li><p>普通for循环/for…in/for…of</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//length属性</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br>arr.length = <span class="hljs-number">4</span><br><span class="hljs-built_in">console</span>.log(arr)  <span class="hljs-comment">//扩容: [3,2,1,empty]</span><br>arr.length = <span class="hljs-number">0</span><br><span class="hljs-built_in">console</span>.log(arr)  <span class="hljs-comment">//被截断: [] </span><br><br><span class="hljs-comment">//数组的遍历</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-comment">//1. 普通的for遍历</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>  <span class="hljs-built_in">console</span>.log(arr[i])<br>&#125;<br><span class="hljs-comment">//2. for...in循环</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index <span class="hljs-keyword">in</span> arr)&#123;<br>  <span class="hljs-built_in">console</span>.log(arr[index])<br>&#125;<br><span class="hljs-comment">//3. for...of循环</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">of</span> arr)&#123;<br>  <span class="hljs-built_in">console</span>.log(item)<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="2-7-4-数组slice-concat-join"><a href="#2-7-4-数组slice-concat-join" class="headerlink" title="2.7.4 数组slice/concat/join"></a>2.7.4 数组slice/concat/join</h4><ul>
<li><p>slice方法</p>
<ul>
<li>截取数组，类似于字符串的slice方法</li>
<li>arr.slice([begin[, end]])  包含begin不包含end</li>
</ul>
</li>
<li><p>concat方法</p>
<ul>
<li>创建一个新数组，其中包含其他数组和其他项</li>
<li>arr.concat(value1[, value2[,…]])  value可以是数组或其他值</li>
</ul>
</li>
<li><p>join方法</p>
<ul>
<li>将一个数组连接成一个字符串并返回</li>
<li>arr.join([separator])</li>
</ul>
</li>
<li><p>toString</p>
<ul>
<li>将数组转化成字符串</li>
<li>arr.toString === arr.join()</li>
</ul>
</li>
<li><p>程序示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-comment">//slice方法[a, b),不会修改原数组,splice会修改原数组</span><br><span class="hljs-built_in">console</span>.log(arr.slice(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), arr)  <span class="hljs-comment">//[2]</span><br><span class="hljs-comment">//concat方法</span><br><span class="hljs-built_in">console</span>.log(arr.concat(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>]).concat(<span class="hljs-number">8</span>))  <span class="hljs-comment">//[1,2,3...8]</span><br><span class="hljs-comment">//join方法</span><br><span class="hljs-built_in">console</span>.log(arr.join(<span class="hljs-string">&quot;-&quot;</span>))  <span class="hljs-comment">//1-2-3</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-7-5-数组中查找元素"><a href="#2-7-5-数组中查找元素" class="headerlink" title="2.7.5 数组中查找元素"></a>2.7.5 数组中查找元素</h4><ul>
<li><p>arr.indexOf</p>
<ul>
<li>查找某个元素的索引</li>
<li>indexOf(searchElement[, fromIndex])</li>
<li>从formIndex找，没找到返回-1，也有lastIndexOf方法</li>
</ul>
</li>
<li><p>arr.includes</p>
<ul>
<li>判断数组是否包含某个元素</li>
<li>includes(valueToFind[, fromIndex])</li>
<li>从formIndex找，找到返回true，否则false</li>
</ul>
</li>
<li><p>find/findIndex（ES6新增）</p>
<ul>
<li>如果使用indexOf/includes来判断对象数组类型是做不了的，这时就需要find方法了</li>
<li>直接查找元素或元素的索引，高阶函数</li>
</ul>
</li>
<li><p>程序示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]<br><span class="hljs-comment">//查找方式一: indexOf/lastIndexOf</span><br><span class="hljs-built_in">console</span>.log(arr.indexOf(<span class="hljs-number">7</span>, <span class="hljs-number">1</span>))  <span class="hljs-comment">//-1</span><br><br><span class="hljs-comment">//查找方式二: includes</span><br><span class="hljs-built_in">console</span>.log(arr.includes(<span class="hljs-number">9</span>))<br><br><span class="hljs-keyword">var</span> student = [<br>  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>&#125;,<br>  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo1&quot;</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">101</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>&#125;,<br>  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo2&quot;</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">102</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">60</span>&#125;<br>]<br><span class="hljs-comment">//查找方式三: find/findIndex</span><br><span class="hljs-comment">//findIndex和find完全相同,只是返回找到元素的索引</span><br><span class="hljs-keyword">var</span> findItem = student.find(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, arr</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> item.age === <span class="hljs-number">22</span><br>&#125;)<br><span class="hljs-built_in">console</span>.log(findItem)  <span class="hljs-comment">//&#123;name: &#x27;kygo1&#x27;, id: 101, age: 2&#125;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-7-6-手动实现高阶函数"><a href="#2-7-6-手动实现高阶函数" class="headerlink" title="2.7.6 手动实现高阶函数"></a>2.7.6 手动实现高阶函数</h4><ul>
<li><p>forEach函数的实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 手动实现forEach高阶函数</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">2</span>, <span class="hljs-number">12</span>, <span class="hljs-number">32</span>]<br><span class="hljs-comment">// 版本一</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">kyForEach</span>(<span class="hljs-params">fn</span>)</span>&#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>    fn(arr[i], i, arr)<br>  &#125;<br>&#125;<br>kyForEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, arr</span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(item, index, arr)<br>&#125;)<br><span class="hljs-comment">// 版本二: 传入数组arr作为参数</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">kyForEach</span>(<span class="hljs-params">fn, arr</span>)</span>&#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>    fn(arr[i], i, arr)<br>  &#125;<br>&#125;<br>kyForEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, arr</span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(item, index, arr)<br>&#125;, arr)<br><span class="hljs-comment">// 版本三: 将函数加到arr对象上</span><br><span class="hljs-comment">// 缺点: 函数不通用,并且打印的arr种有kyForEach</span><br>arr.kyForEach = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>)</span>&#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">this</span>.length; i++) &#123;<br>    fn(arr[i], i, <span class="hljs-built_in">this</span>)<br>  &#125;<br>&#125;<br>arr.kyForEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, arr</span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(item, index, arr)<br>&#125;)<br><br><span class="hljs-comment">//终极版本: 将方法绑定到Array.prototype上</span><br><span class="hljs-built_in">Array</span>.prototype.kyForEach = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>)</span>&#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">this</span>.length; i++) &#123;<br>    fn(arr[i], i, <span class="hljs-built_in">this</span>)<br>  &#125;<br>&#125;<br><span class="hljs-comment">//所有数组都可调用,和原生forEach方法一模一样</span><br>arr.kyForEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, arr</span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(item, index, arr)<br>&#125;)<br></code></pre></td></tr></table></figure></li>
<li><p>find函数的实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> student = [<br>  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>&#125;,<br>  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo1&quot;</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">101</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>&#125;,<br>  &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo2&quot;</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">102</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">60</span>&#125;<br>]<br><br><span class="hljs-comment">// 手动实现find高阶函数</span><br><span class="hljs-built_in">Array</span>.prototype.kyFind = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) </span>&#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">this</span>.length; i++) &#123;<br>    <span class="hljs-keyword">if</span>(fn(<span class="hljs-built_in">this</span>[i], i, <span class="hljs-built_in">this</span>)) <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>[i]<br>  &#125;<br>&#125;<br><span class="hljs-keyword">var</span> result = arr.find(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> item === <span class="hljs-number">2</span><br>&#125;)<br><span class="hljs-keyword">var</span> result1 = student.find(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> item.id === <span class="hljs-number">101</span><br>&#125;)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">//2</span><br><span class="hljs-built_in">console</span>.log(result1)  <span class="hljs-comment">//&#123;name: &#x27;kygo1&#x27;, id: 101, age:22&#125;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-7-7-数组的排序和反转"><a href="#2-7-7-数组的排序和反转" class="headerlink" title="2.7.7 数组的排序和反转"></a>2.7.7 数组的排序和反转</h4><ul>
<li><p>sort方法</p>
<ul>
<li>数组排序，返回排序后的新数组</li>
<li>sort([compareFunction])</li>
<li>规则：如果compareFunction(a, b)&gt;0，则a排在b后面，等于0顺序不变，小于0，a排b前面</li>
</ul>
</li>
<li><p>reverse方法</p>
<ul>
<li>反转数组元素并返回</li>
</ul>
</li>
<li><p>程序示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//数组排序</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">12</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>, <span class="hljs-number">34</span>, <span class="hljs-number">21</span>, <span class="hljs-number">213</span>, <span class="hljs-number">78</span>]<br><span class="hljs-comment">//a - b &gt; 0 a排在b后面,所以是升序排列</span><br><span class="hljs-keyword">var</span> newArr = arr.sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> a - b<br>&#125;)<br><span class="hljs-built_in">console</span>.log(arr === newArr)  <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(arr)  <span class="hljs-comment">//[1,12,21,34...]</span><br><br><span class="hljs-comment">//数组反转</span><br>arr.reverse()<br><span class="hljs-built_in">console</span>.log(arr)  <span class="hljs-comment">//[213,100,78,34...]</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-7-8-其他高阶函数的使用"><a href="#2-7-8-其他高阶函数的使用" class="headerlink" title="2.7.8 其他高阶函数的使用"></a>2.7.8 其他高阶函数的使用</h4><ul>
<li><p>arr.forEach</p>
<ul>
<li>遍历数组，让数组中的每个元素都执行一次对应方法</li>
</ul>
</li>
<li><p>arr.map</p>
<ul>
<li>创建一个新数组</li>
<li>这个新数组由原数组中的每个元素都调用一次提供的函数后的返回值组成</li>
</ul>
</li>
<li><p>arr.filter</p>
<ul>
<li>创建一个新数组</li>
<li>新数组中只包含每个元素调用函数返回为true的元素</li>
</ul>
</li>
<li><p>arr.reduce</p>
<ul>
<li>用于计算数组中所有元素的总和</li>
<li>对数组中的每个元素按序执行一个由您提供的 reducer 函数</li>
<li>每一次运行 reducer 会将先前元素的计算结果作为参数传入，最后将其结果汇总为单个返回值</li>
</ul>
</li>
<li><p>程序示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-comment">//forEach方法: item等参数可按需求写</span><br><span class="hljs-comment">//this绑定的是window,可以传入第二个参数作为this绑定的对象</span><br>arr.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, arr</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(item, <span class="hljs-built_in">this</span>) <span class="hljs-comment">//1 &#123;name: &quot;kygo&quot;&#125;...</span><br>&#125;, &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>&#125;)<br><br><span class="hljs-comment">//map: 数组映射</span><br><span class="hljs-keyword">var</span> newArr1 = arr.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, arr</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> item * item<br>&#125;)<br><span class="hljs-built_in">console</span>.log(newArr1)  <span class="hljs-comment">//[1, 4, 9, 16]</span><br><br><span class="hljs-comment">//filter: 数组筛选</span><br><span class="hljs-keyword">var</span> newArr2 = arr.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, index, arr</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> item % <span class="hljs-number">2</span> ===<span class="hljs-number">0</span>  <br>&#125;)<br><span class="hljs-built_in">console</span>.log(newArr2)  <span class="hljs-comment">//[2, 4]</span><br><br><span class="hljs-comment">//reduce(fun[, initial]): 求和,initial表示初始值</span><br><span class="hljs-comment">//pre-上次求和的值</span><br><span class="hljs-comment">//item-当前元素  index-当前索引</span><br><span class="hljs-comment">//注意: 不写初始值,默认初始值是第一个元素,index从1开始(第二个元素)累加</span><br><span class="hljs-keyword">var</span> result = arr.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">pre, item, index</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> pre + item<br>&#125;, <span class="hljs-number">100</span>)<br><span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">//10</span><br><br><span class="hljs-comment">//综合练习: 过滤所有偶数,映射所有偶数的平方,并且计算他们的和</span><br><span class="hljs-keyword">var</span> arr1 = [<span class="hljs-number">2</span>, <span class="hljs-number">11</span>, <span class="hljs-number">32</span>, <span class="hljs-number">47</span>, <span class="hljs-number">110</span>, <span class="hljs-number">231</span>]<br><span class="hljs-comment">//以下为链式写法</span><br><span class="hljs-keyword">var</span> res = arr1.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> item % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> <br>&#125;).map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> item * item<br>&#125;).reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">preValue, item</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> preValue + item<br>&#125;)<br><span class="hljs-built_in">console</span>.log(res)<br></code></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="3-JS代码规范和浏览器调试技巧"><a href="#3-JS代码规范和浏览器调试技巧" class="headerlink" title="3. JS代码规范和浏览器调试技巧"></a>3. JS代码规范和浏览器调试技巧</h2><h3 id="3-1-代码规范"><a href="#3-1-代码规范" class="headerlink" title="3.1 代码规范"></a>3.1 代码规范</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pow</span>(<span class="hljs-params">x, n</span>) </span>&#123;  <span class="hljs-comment">//1. 多个参数,后面留空格 开花括号&#123;不单独起一行且前面留空</span><br>  <span class="hljs-keyword">var</span> result = <span class="hljs-number">1</span>  <span class="hljs-comment">//2. 操作符左右两边留空格</span><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;  <span class="hljs-comment">//3. 循环语句;后面留空格</span><br>    result *= x  <span class="hljs-comment">//4. 代码缩进两个空格</span><br>  &#125;<br>  <span class="hljs-keyword">return</span> result;  <span class="hljs-comment">//5. 分号可加可不加,但是在必要时必须加,如立即执行函数前面</span><br>&#125;<br><br><span class="hljs-keyword">var</span> x = prompt(<span class="hljs-string">&quot;请输入x&quot;</span>)  <span class="hljs-comment">//6. 不同功能代码块之间空行</span><br><span class="hljs-keyword">var</span> n = prompt(<span class="hljs-string">&quot;请输入n&quot;</span>)<br><br><span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) &#123;  <span class="hljs-comment">//7. for/if/while后面跟空格</span><br>  <span class="hljs-built_in">console</span>.log(pow(x, n))  <span class="hljs-comment">//8. 函数多个参数传参,后面跟空格</span><br>&#125; <span class="hljs-keyword">else</span> &#123;  <span class="hljs-comment">//9. &quot;&#125; else &#123;&quot; 在同一行显示</span><br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`pow函数不支持小于0的数,你输入的n小于0,</span><br><span class="hljs-string">  请输入大于等于0的数`</span>)  <span class="hljs-comment">//10. 一行不能太长</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="3-2-浏览器调试技巧"><a href="#3-2-浏览器调试技巧" class="headerlink" title="3.2 浏览器调试技巧"></a>3.2 浏览器调试技巧</h3><ul>
<li><p>debug的认识</p>
<ul>
<li>终极技巧：debug</li>
<li>当代码出问题的时候，可以通过debug找出bug</li>
<li>浏览器实现debug就是打断点</li>
</ul>
</li>
<li><p>浏览器的debug</p>
<ul>
<li><p>debug过程解析</p>
<p><img src="../../public/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%B8%80.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p>右侧工具栏的作用</p>
<p><img src="../../public/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%BA%8C.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p>右下侧工具栏</p>
<p><img src="../../public/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%B8%89.png" srcset="/img/loading.gif" lazyload></p>
</li>
</ul>
</li>
<li><p>代码中的debugger</p>
<ul>
<li><p>代码中写上debugger和浏览器中打断点效果是一样的，程序都会停在那个地方</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;循环前&quot;</span>)<br><span class="hljs-keyword">var</span> result = <span class="hljs-number">0</span><br><br><span class="hljs-keyword">debugger</span>  <span class="hljs-comment">//debugger标识符就是在代码中打断点的方式</span><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;foo执行啦&quot;</span>)<br>&#125;<br>foo()<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="4-DOM"><a href="#4-DOM" class="headerlink" title="4. DOM"></a>4. DOM</h2><h3 id="4-1-初识DOM"><a href="#4-1-初识DOM" class="headerlink" title="4.1 初识DOM"></a>4.1 初识DOM</h3><h4 id="4-1-1-认识DOM和BOM"><a href="#4-1-1-认识DOM和BOM" class="headerlink" title="4.1.1 认识DOM和BOM"></a>4.1.1 认识DOM和BOM</h4><ul>
<li><p>对象解析</p>
<ul>
<li><p>window</p>
<ul>
<li>全局对象，代表浏览器打开的一个窗口</li>
<li>每个窗口都是一个window对象 </li>
</ul>
</li>
<li><p>document</p>
<ul>
<li>window的一个属性，这个属性是一个对象</li>
<li>代表当前窗口的整个网页，可以操作整个网页的所有内容</li>
</ul>
</li>
</ul>
</li>
<li><p>作用</p>
<ul>
<li>前面学习的ECMAScript是JS的基本语法部分，不涉及对网页和浏览器的操作</li>
<li>DOM和BOM是浏览器提供给开发者去操作页面和浏览器的API(接口/方法/属性)</li>
</ul>
</li>
<li><p>概念</p>
<ul>
<li>DOM<ul>
<li>文档对象模型（Document Object Model），简称DOM</li>
<li>将页面所有的内容表示成可以修改的对象</li>
</ul>
</li>
<li>BOM<ul>
<li>浏览器对象模型（Browser Object Model）</li>
<li>用于处理文档之外的所有其他内容的对象，如：navigator、location、history</li>
</ul>
</li>
</ul>
</li>
<li><p>深入理解DOM</p>
<ul>
<li>浏览器考虑到我们会通过js操作页面的元素，所以将所有的元素抽象成了对象</li>
<li>整个文档被抽象到Document对象中 （如：通过Document.head/body就可拿到head/body元素）<ul>
<li>如：document.body.style.backgroundColor = “red” 就会让整个页面背景变成红色</li>
</ul>
</li>
<li>学习DOM就是学习通过document对象操作网页内容</li>
</ul>
</li>
</ul>
<h4 id="4-1-2-DOM-Tree"><a href="#4-1-2-DOM-Tree" class="headerlink" title="4.1.2 DOM Tree"></a>4.1.2 DOM Tree</h4><ul>
<li>html结构中最终会形成一个树结构</li>
<li>在抽象成DOM对象的时候也会形成一个树结构-DOM Tree</li>
</ul>
<h4 id="4-1-3-DOM的继承关系"><a href="#4-1-3-DOM的继承关系" class="headerlink" title="4.1.3 DOM的继承关系"></a>4.1.3 DOM的继承关系</h4><ul>
<li><p>DOM相当于是JavaScript和HTML/CSS之间沟通的桥梁</p>
<ul>
<li>通过浏览器提供的DOM API，可以对元素及其内容做任何操作</li>
</ul>
</li>
<li><p>DOM的继承关系图</p>
<p><img src="../../public/img/DOM%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB%E5%9B%BE.png" srcset="/img/loading.gif" lazyload></p>
</li>
</ul>
<h4 id="4-1-5-document对象"><a href="#4-1-5-document对象" class="headerlink" title="4.1.5 document对象"></a>4.1.5 document对象</h4><ul>
<li><p>Document节点表示整个载入的网页，它的实例是全局的document对象</p>
<ul>
<li>对DOM的所有操作都是从document对象开始的</li>
<li>它是DOM的入口点，可以从document开始去访问任何节点元素</li>
</ul>
</li>
<li><p>对于最顶层的html、head、body元素，我们可以直接在document对象中获取到</p>
<ul>
<li><p>html元素 - document.documentElement</p>
</li>
<li><p>body/head元素 - document.body/head</p>
</li>
<li><p>文档声明 - document.doctype</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> htmlEl = <span class="hljs-built_in">document</span>.documentElement<br><span class="hljs-keyword">var</span> headEl = <span class="hljs-built_in">document</span>.head<br><span class="hljs-keyword">var</span> bodyEl = <span class="hljs-built_in">document</span>.body<br><span class="hljs-keyword">var</span> docEl = <span class="hljs-built_in">document</span>.doctype<br><span class="hljs-built_in">console</span>.log(htmlEl, headEl, bodyEl, docEl)  <span class="hljs-comment">//html/head/body/docType</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="4-2-导航获取元素-节点"><a href="#4-2-导航获取元素-节点" class="headerlink" title="4.2 导航获取元素/节点"></a>4.2 导航获取元素/节点</h3><h4 id="4-2-1-节点之间的导航"><a href="#4-2-1-节点之间的导航" class="headerlink" title="4.2.1 节点之间的导航"></a>4.2.1 节点之间的导航</h4><ul>
<li><p>什么是节点之间的导航</p>
<ul>
<li>当获取到一个节点后，根据这个节点获取其他的结点</li>
<li>注意：结点包括元素、注释、空行、文本等都属于节点</li>
</ul>
</li>
<li><p>节点之间存在的关系</p>
<ul>
<li>父节点：parentNode</li>
<li>前兄弟节点：previousSibling</li>
<li>后兄弟节点：nextSibing</li>
<li>子节点：childNodes</li>
<li>第一个子节点：firstChild</li>
<li>最后一个子节点：lastChild</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 我是注释 --&gt;</span><br>  嘿嘿嘿<br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>我是段落哈哈哈哈<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> bodyEl = <span class="hljs-built_in">document</span>.body</span><br><span class="javascript">  <span class="hljs-keyword">var</span> childNodes = bodyEl.childNodes  <span class="hljs-comment">//获取所有子节点</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(childNodes)  <span class="hljs-comment">//[text, comment, text, div.box, text, script]</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = childNodes[<span class="hljs-number">2</span>].nextSibling</span><br><span class="javascript">  <span class="hljs-keyword">var</span> pEl = boxEl.firstChild</span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl1 = pEl.parentNode</span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl, boxEl1, pEl)  <span class="hljs-comment">//div.box div.box #text</span></span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-2-2-元素之间的导航"><a href="#4-2-2-元素之间的导航" class="headerlink" title="4.2.2 元素之间的导航"></a>4.2.2 元素之间的导航</h4><ul>
<li><p>什么是元素之间的导航</p>
<ul>
<li>同理，通过一个元素获取到其他元素</li>
</ul>
</li>
<li><p>元素之间存在的关系</p>
<ul>
<li>父元素：parentElement</li>
<li>前兄弟元素：previousElementSibling</li>
<li>后兄弟元素：nextElementSibing</li>
<li>子元素：children</li>
<li>第一个子元素：firstElementChild</li>
<li>最后一个子元素：lastElementChild</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html">哈哈哈哈<br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>我是标题<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>我是段落<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> bodyEl = <span class="hljs-built_in">document</span>.body</span><br><span class="javascript">  childEls = bodyEl.children  <span class="hljs-comment">//获取body中所有子元素</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(childEls)  <span class="hljs-comment">//[h1, div.box, script]</span></span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> scriptEl = bodyEl.lastElementChild</span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = scriptEl.previousElementSibling</span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl1 = boxEl.lastElementChild.parentElement</span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(scriptEl, boxEl, boxEl)  <span class="hljs-comment">//&lt;script&gt; &lt;div&gt; &lt;div&gt;</span></span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-2-3-table元素之间的导航"><a href="#4-2-3-table元素之间的导航" class="headerlink" title="4.2.3 table元素之间的导航"></a>4.2.3 table元素之间的导航</h4><ul>
<li><p>table元素支持以下属性（除了上面给出的）</p>
<ul>
<li>table.rows    tr元素集合</li>
<li>table.caption/tHead/tBodies/tFoot    </li>
</ul>
</li>
<li><p>thead/tbody/tfoot元素提供了rows属性</p>
<ul>
<li>tbody.rows</li>
</ul>
</li>
<li><p>tr元素</p>
<ul>
<li>tr.cells    给定的tr中td和th的集合</li>
<li>tr.sectionRowIndex/tr.rowIndex    tr在thead/tbody/tfoot中的位置、整个表格中的位置</li>
</ul>
</li>
<li><p>td和th元素</p>
<ul>
<li>td.cellIndex    封闭的tr中单元格的编号</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> tableEl = <span class="hljs-built_in">document</span>.body.children[<span class="hljs-number">0</span>] <span class="hljs-comment">//as HTMLTableElement</span><br><span class="hljs-keyword">var</span> rows = tableEl.rows  <span class="hljs-comment">//获取所有tr</span><br><span class="hljs-keyword">var</span> theadEl = tableEl.tHead  <span class="hljs-comment">//获取tHead</span><br><span class="hljs-keyword">var</span> tbodyEl = tableEl.tBody  <span class="hljs-comment">//获取tBody</span><br><span class="hljs-keyword">var</span> thRowEl = theadEl.rows  <span class="hljs-comment">//通过tHead获取其中的row</span><br><span class="hljs-keyword">var</span> thsEl = rows[<span class="hljs-number">0</span>].cells  <span class="hljs-comment">//获取th</span><br><span class="hljs-keyword">var</span> rowIndex = rows[<span class="hljs-number">2</span>].rowIndex  <span class="hljs-comment">//获取row是第几个row</span><br><span class="hljs-keyword">var</span> tdIndex = rows[<span class="hljs-number">2</span>].cells[<span class="hljs-number">1</span>].cellIndex  <span class="hljs-comment">//获取td是第几个</span><br><span class="hljs-comment">//&lt;tbale&gt; [tr,tr,tr] true [th,th,th] 2 1</span><br><span class="hljs-built_in">console</span>.log(tableEl, rows, thRowEl[<span class="hljs-number">0</span>] === rows[<span class="hljs-number">0</span>], thsEl, rowIndex, tdIndex)  <br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-2-4-form元素之间的导航"><a href="#4-2-4-form元素之间的导航" class="headerlink" title="4.2.4 form元素之间的导航"></a>4.2.4 form元素之间的导航</h4><ul>
<li><p>form元素可通过ducument来获取：document.forms</p>
</li>
<li><p>form元素中的内容可通过elements来获取：form.elements</p>
</li>
<li><p>可以通过表单子元素的name属性来获取：elements.password</p>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;id&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> formEl = <span class="hljs-built_in">document</span>.forms[<span class="hljs-number">0</span>]</span><br><span class="javascript">  <span class="hljs-keyword">var</span> formAllEl = formEl.elements</span><br><span class="javascript">  <span class="hljs-keyword">var</span> idInputEl = formAllEl.id</span><br><span class="javascript">  <span class="hljs-keyword">var</span> passwordEl = formAllEl.password</span><br><span class="javascript">  <span class="hljs-comment">//result: [input, input, id:input, password:input] </span></span><br><span class="javascript">  <span class="hljs-comment">//&lt;input name=&quot;id&quot;&gt;&lt;/input&gt; &lt;input name=&quot;password&quot;&gt;&lt;/input&gt;</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(formAllEl, idInputEl, passwordEl)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-3-获取任意元素"><a href="#4-3-获取任意元素" class="headerlink" title="4.3 获取任意元素"></a>4.3 获取任意元素</h3><ul>
<li><p>DOM导航属性只适用于元素之间相邻或相近时（层级太多写起来不方便）</p>
</li>
<li><p>DOM为我们提供了以下可以任意获取元素的方法</p>
<ul>
<li>querySelector/querySeletorAll<ul>
<li>通过选择器查找元素，开发最常用</li>
</ul>
</li>
<li>getElementById/getElementsByClassName<ul>
<li>通过id/class查找元素，有时候用（适配低版本浏览器）</li>
</ul>
</li>
<li>getElementsByName/getElementsByTagName<ul>
<li>通过name属性、标签名获取（用得很少，了解）</li>
</ul>
</li>
</ul>
</li>
<li><p>是否能在元素上使用，是否实时（了解）</p>
<ul>
<li>query、ByClass、TagName可以在元素上使用<ul>
<li>可以通过元素.的方法调用，在其子元素中查询</li>
</ul>
</li>
<li>ByName、ByTagName、ByClassName支持实时更新<ul>
<li>元素属性先输出，再修改，也会输出最新的</li>
</ul>
</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span>我是box<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)  <span class="hljs-comment">//找到第一个满足条件的就返回</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl1 = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&quot;.box&quot;</span>)[<span class="hljs-number">0</span>]</span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl2 = <span class="hljs-built_in">document</span>.getElementsByClassName(<span class="hljs-string">&quot;box&quot;</span>)[<span class="hljs-number">0</span>]</span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl3 = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;box&quot;</span>)</span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl4 = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;div&quot;</span>)[<span class="hljs-number">0</span>]</span><br><span class="javascript">  <span class="hljs-keyword">var</span> inputEl = <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">&quot;password&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//以下结果都是true</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl === boxEl1)</span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl1 === boxEl2)</span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl2 === boxEl3)</span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl3 ===boxEl4)</span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(inputEl)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-4-node节点常见属性"><a href="#4-4-node节点常见属性" class="headerlink" title="4.4 node节点常见属性"></a>4.4 node节点常见属性</h3><ul>
<li><p>主要讨论节点共有的属性</p>
</li>
<li><p>nodeType属性</p>
<ul>
<li>作用：获取节点的类型，返回的是数值类型</li>
<li>常见结点类型<ul>
<li>Node.ELEMENT_NODE  1  元素节点</li>
<li>Node.TEXT_NODE  3  文本节点</li>
<li>Node.COMMENT_NODE  8  注释节点</li>
<li>Node.DOCUMENT_NODE  9  文档节点</li>
<li>Node.DOCUMENT_TYPE_NODE  10  文档类型节点</li>
</ul>
</li>
</ul>
</li>
<li><p>nodeName、tagName属性</p>
<ul>
<li>作用：用于获取node节点的名字，元素的标签名</li>
<li>不同<ul>
<li>tagName只适用于Element元素节点</li>
<li>nodeName使用于任意节点</li>
</ul>
</li>
</ul>
</li>
<li><p>innerHTML、textContent属性</p>
<ul>
<li>innerHTML属性<ul>
<li>可以获取元素中的所有内容，包括HTML，以字符串形式返回</li>
<li>可以设置元素的内容（如果有HTML会解析）</li>
</ul>
</li>
<li>textContent属性<ul>
<li>仅仅获取元素中的文本内容（设置内容时不会解析HTML）</li>
</ul>
</li>
<li>outerHTML属性<ul>
<li>包含了元素本身的完整HTML</li>
</ul>
</li>
</ul>
</li>
<li><p>data/nodeValue</p>
<ul>
<li>用于获取非元素节点的文本内容（如：注释、文本）</li>
</ul>
</li>
<li><p>其他属性</p>
<ul>
<li>hidden属性：全局属性，设置元素的显示隐藏</li>
<li>value（表单元素）、href（a）、id（所有元素的attribute值）</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 注释 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>  我是box<br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>我是段落<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>显示/隐藏<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="handlebars"><span class="xml"></span></span><br><span class="xml"><span class="handlebars">  var bodyEl = document.body</span></span><br><span class="xml"><span class="handlebars">  //节点类型nodeType</span></span><br><span class="xml"><span class="handlebars">  var allNodeEl = bodyEl.childNodes</span></span><br><span class="xml"><span class="handlebars">  //3#text 8<span class="hljs-comment">&lt;!--注释--&gt;</span> 3#text 1<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> 3#text 1<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> item <span class="hljs-keyword">of</span> allNodeEl)&#123;</span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">    <span class="hljs-built_in">console</span>.log(item.nodeType, item)</span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  &#125;</span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars"></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-comment">//nodeName/tagName</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-built_in">console</span>.log(bodyEl.childNodes[<span class="hljs-number">0</span>].nodeName)  <span class="hljs-comment">//#text</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-built_in">console</span>.log(bodyEl.childNodes[<span class="hljs-number">0</span>].tagName)  <span class="hljs-comment">//undefined</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars"></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-built_in">console</span>.log(bodyEl.childNodes[<span class="hljs-number">3</span>].nodeName)  <span class="hljs-comment">//DIV</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-built_in">console</span>.log(bodyEl.childNodes[<span class="hljs-number">3</span>].tagName)  <span class="hljs-comment">//DIV</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars"></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-comment">//innerHTML/textContent/outerHTML</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)</span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-built_in">console</span>.log(boxEl.innerHTML)  <span class="hljs-comment">//我是box&lt;p&gt;我是段落&lt;p&gt;</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-comment">//&lt;div class=&quot;box&quot;&gt;我是box&lt;p&gt;我是段落&lt;p&gt;&lt;div&gt;</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-built_in">console</span>.log(boxEl.outerHTML)  </span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-built_in">console</span>.log(boxEl.textContent)  <span class="hljs-comment">//我是box 我是段落</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  boxEl.innerHTML=<span class="hljs-string">&quot;&lt;h1&gt;我是box中的h1&lt;/h1&gt;&quot;</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars"></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars"></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-comment">//data/nodeValue</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-built_in">console</span>.log(allNodeEl[<span class="hljs-number">1</span>].nodeValue)  <span class="hljs-comment">//注释</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-built_in">console</span>.log(allNodeEl[<span class="hljs-number">1</span>].data)  <span class="hljs-comment">//注释</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars"></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-comment">//显示和隐藏box</span></span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  <span class="hljs-keyword">var</span> btnEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.btn&quot;</span>)</span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  btnEl.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">    boxEl.hidden = !boxEl.hidden </span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars">  &#125;</span></span></span><br><span class="javascript"><span class="xml"><span class="handlebars"></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-5-元素"><a href="#4-5-元素" class="headerlink" title="4.5 元素"></a>4.5 元素</h3><h4 id="4-5-0-元素属性和特征的基本认识"><a href="#4-5-0-元素属性和特征的基本认识" class="headerlink" title="4.5.0 元素属性和特征的基本认识"></a>4.5.0 元素属性和特征的基本认识</h4><ul>
<li>一个元素除了有开始标签、结束标签、内容，还有很多的属性（attribute）</li>
<li>浏览器在解析HTML元素时，会将对应的attribute也创建出来放到元素上<ul>
<li>如元素的id、class就是全局的attribute，对象上有对应的id、class属性</li>
<li>href属性是针对于a元素的，value和type是针对于input元素的</li>
</ul>
</li>
<li>属性和特征的区分<ul>
<li>通常我们将html元素上加的属性叫做特征-attribute</li>
<li>在元素对象中封装的属性叫做-property</li>
</ul>
</li>
</ul>
<h4 id="4-5-1-元素的特征attribute"><a href="#4-5-1-元素的特征attribute" class="headerlink" title="4.5.1 元素的特征attribute"></a>4.5.1 元素的特征attribute</h4><ul>
<li><p>分类</p>
<ul>
<li>标准attribute<ul>
<li>原本存在的浏览器提供的元素attribute，如：id、class、style</li>
</ul>
</li>
<li>非标准attribute<ul>
<li>自定义的attribute，如age、height</li>
</ul>
</li>
</ul>
</li>
<li><p>attribute的操作</p>
<ul>
<li>elem.hasAttribute(name)  检查特征是否存在</li>
<li>elem.getAttribute(name)  获取特征值</li>
<li>elem.setAttribute(name, value)  设置特征值</li>
<li>elem.removeAttribute(name)  移除特征</li>
<li>attributes  元素的所有属性的集合</li>
</ul>
</li>
<li><p>attribute特征</p>
<ul>
<li>名字的大小写不敏感（id和ID获取是一样的）</li>
<li>获取到的值总是字符串类型（如checked获取到的是空字符串）</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- class就是标准attribute, height/name就是非标准attribute --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;1.88&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;kygo&quot;</span>&gt;</span><br>  我是box<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">checked</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//所有attribute都支持的操作</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)</span><br><span class="javascript">  <span class="hljs-keyword">var</span> hasAttr = boxEl.hasAttribute(<span class="hljs-string">&quot;class&quot;</span>)</span><br><span class="javascript">  <span class="hljs-keyword">var</span> attrName = boxEl.getAttribute(<span class="hljs-string">&quot;name&quot;</span>)</span><br><span class="javascript">  <span class="hljs-keyword">var</span> attrs = boxEl.attributes</span><br><span class="javascript">  <span class="hljs-comment">//class box   height 1.88   name kygo</span></span><br><span class="javascript">  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> attr <span class="hljs-keyword">of</span> attrs)&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(attr.name, attr.value)</span><br><span class="javascript">  &#125;</span><br><span class="javascript">  boxEl.removeAttribute(<span class="hljs-string">&quot;height&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//有就修改,没有就增加</span></span><br><span class="javascript">  boxEl.setAttribute(<span class="hljs-string">&quot;height1&quot;</span>, <span class="hljs-number">1.98</span>) </span><br><span class="javascript">  <span class="hljs-comment">//Result: true kygo  &#123;0: class, 1: name, 2: height1...&#125;</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(hasAttr, attrName, attrs) </span><br><span class="javascript">  <span class="hljs-comment">//输出空字符串，getAttribute获取到的都是字符串类型</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;input&quot;</span>).getAttribute(<span class="hljs-string">&quot;checked&quot;</span>))</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-5-2-元素的属性property"><a href="#4-5-2-元素的属性property" class="headerlink" title="4.5.2 元素的属性property"></a>4.5.2 元素的属性property</h4><ul>
<li><p>对于标准的attribute，会在DOM对象上创建对应的property属性</p>
</li>
<li><p>attribute和property相互作用</p>
<ul>
<li>改变property，通过attribute获取到的值也会改变</li>
<li>通过attribute修改，property的值也会改变</li>
</ul>
</li>
<li><p>推荐使用property来设置、获取元素的attribute</p>
<ul>
<li>因为通过property获取的值是有类型的，而attribute获取的都是字符串</li>
</ul>
</li>
<li><p>自定义属性data的获取</p>
<ul>
<li>html中可以通过data-*自定义属性，这些attribute可以通过dataset属性获取到</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;标题&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;kygo&quot;</span> <span class="hljs-attr">data-age</span>=<span class="hljs-string">&quot;18&quot;</span>&gt;</span><br>  我是box<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">checked</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)</span><br><span class="javascript">  <span class="hljs-keyword">var</span> inputEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;input&quot;</span>)</span><br><span class="javascript">  boxEl.className = <span class="hljs-string">&quot;box1&quot;</span></span><br><span class="javascript">  boxEl.setAttribute(<span class="hljs-string">&quot;class&quot;</span>, <span class="hljs-string">&quot;box2&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//通过property获取属性(只能获取非自定义属性)</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.name)  <span class="hljs-comment">//undefined</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.title)  <span class="hljs-comment">//标题</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.className)  <span class="hljs-comment">//  box2</span></span><br><span class="javascript">  <span class="hljs-comment">//获取的属性值有类型  Result: true &#x27;boolean&#x27; radio&#x27;</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(inputEl.checked, <span class="hljs-keyword">typeof</span> inputEl.checked, inputEl.type) </span><br><span class="javascript">  <span class="hljs-comment">//自定义属性的获取</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.dataset.age)  <span class="hljs-comment">//18</span></span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-5-3-元素的class和style"><a href="#4-5-3-元素的class和style" class="headerlink" title="4.5.3 元素的class和style"></a>4.5.3 元素的class和style</h4><ul>
<li><p>JavaScript动态修改样式</p>
<ul>
<li>方法一：在css中写好样式，动态添加class</li>
<li>方法二：动态修改style属性</li>
<li>方法的选择<ul>
<li>大多数情况下，更推荐使用动态的class</li>
<li>某些情况不能动态修改class（如精准修改某个css属性值），就可以修改style属性</li>
</ul>
</li>
</ul>
</li>
<li><p>元素的className和classList</p>
<ul>
<li>元素的className<ul>
<li>元素的class attribute，对应的property叫做className，而不是class（class是关键字）</li>
<li>可以对className赋值，它会替换整个class中的字符串</li>
</ul>
</li>
<li>元素的classList<ul>
<li>当需要添加或移除单个的class，可以使用classList属性</li>
<li>elem.classList是特殊的对象<ul>
<li>elem.classList.add(class)  添加一个类</li>
<li>elem.classList.remove(class)  移除类</li>
<li>elem.classList.toggle(class)  不存在添加，存在移除类</li>
<li>elem.classList.contains(class)  检查类，返回true/false</li>
</ul>
</li>
<li>classList是可迭代对象，可以通过for…of遍历</li>
</ul>
</li>
</ul>
</li>
<li><p>元素的style属性</p>
<ul>
<li>单独修改某一个css属性，可以通过style来操作</li>
<li>多个样式的写法，需要使用cssText属性（不推荐）</li>
<li>注意<ul>
<li>对于多词属性，使用驼峰：boxEl.style.backgroundColor = “red”</li>
<li>如果将值设置为空字符串，会使用默认的css样式（如：boxEl.style.display=””）</li>
</ul>
</li>
</ul>
</li>
<li><p>元素style的读取-getComputedStyle</p>
<ul>
<li>对于内联样式，可以通过style.*的方式读取到</li>
<li>对于style标签、css文件中的样式是读取不到的<ul>
<li>可以通过getComputedStyle的全局函数来读取：getComputedStyle(“boxEl”).width</li>
</ul>
</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">  <span class="hljs-selector-class">.box</span>&#123;</span><br><span class="css">    <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span><br><span class="css">    <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="css">  &#125;</span><br><span class="css">  <span class="hljs-selector-class">.active</span>&#123;</span><br><span class="css">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">    <span class="hljs-attribute">background</span>: purple;</span><br><span class="css">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;</span><br><span class="css">  &#125;</span><br><span class="css">  <span class="hljs-selector-class">.active1</span>&#123;</span><br><span class="css">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">10px</span>;</span><br><span class="css">  &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span>我是box<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//通过style属性来修改样式</span></span><br><span class="javascript">  boxEl.style.color = <span class="hljs-string">&quot;red&quot;</span></span><br><span class="javascript">  boxEl.style.backgroundColor = <span class="hljs-string">&quot;pink&quot;</span></span><br><span class="javascript">  <span class="hljs-comment">//style的读取</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.style.color)  <span class="hljs-comment">//red</span></span><br><span class="javascript">  <span class="hljs-comment">//如果不是内联样式必须这样读取才行</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(getComputedStyle(boxEl).width)  <span class="hljs-comment">//300px</span></span><br><span class="javascript"></span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//通过动态添加className来修改样式(会覆盖所有之前的class)</span></span><br><span class="javascript">  boxEl.className = <span class="hljs-string">&quot;active&quot;</span></span><br><span class="javascript">  <span class="hljs-comment">//通过classList来修改样式</span></span><br><span class="javascript">  boxEl.classList.remove(<span class="hljs-string">&quot;active&quot;</span>)</span><br><span class="javascript">  boxEl.classList.add(<span class="hljs-string">&quot;active1&quot;</span>)</span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.classList.contains(<span class="hljs-string">&quot;active&quot;</span>))  <span class="hljs-comment">//false</span></span><br><span class="javascript"></span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-5-4-元素的常见操作"><a href="#4-5-4-元素的常见操作" class="headerlink" title="4.5.4 元素的常见操作"></a>4.5.4 元素的常见操作</h4><ul>
<li><p>创建元素</p>
<ul>
<li>以前写入元素的方式：document.write/innerHTML（不推荐）</li>
<li>创建元素语法<ul>
<li>document.createElement(tag)</li>
</ul>
</li>
</ul>
</li>
<li><p>插入元素</p>
<ul>
<li>node.append(…nodes or strings)  node末尾插入节点或字符串</li>
<li>node.prepend  node开头插入</li>
<li>node.before      node前面插入</li>
<li>node.after         node后面插入</li>
<li>node.replaceWith  将node替换成指定节点或字符串</li>
</ul>
</li>
<li><p>移除元素和克隆元素</p>
<ul>
<li>移除<ul>
<li>node.remove  node移除自己</li>
</ul>
</li>
<li>克隆<ul>
<li>语法：node.cloneNode([true])  </li>
<li>解释：传入true表示深度克隆（包含子元素），返回克隆出来的node</li>
</ul>
</li>
</ul>
</li>
<li><p>旧的元素操作方法（了解-基本不用了）</p>
<ul>
<li>parentEl.appendChild(node)</li>
<li>parentEl.insertBefore(node,nextSibling)</li>
<li>paretEl.replaceChild(node, oldChild)</li>
<li>parentEl.removeChild(node)</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>我是段落1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span>我是box<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>我是段落2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//以前的做法(不推荐)</span></span><br><span class="javascript">  <span class="hljs-built_in">document</span>.write(<span class="hljs-string">&quot;&lt;h1&gt;我是write写入的标题&lt;h1&gt;&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//新增元素</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> h1El = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;h1&quot;</span>)</span><br><span class="javascript">  <span class="hljs-keyword">var</span> h2El = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;h2&quot;</span>)</span><br><span class="javascript">  h1El.textContent = <span class="hljs-string">&quot;我是插入的标题h1&quot;</span></span><br><span class="javascript">  h2El.textContent = <span class="hljs-string">&quot;我是插入的标题h2&quot;</span></span><br><span class="javascript">  <span class="hljs-comment">//插入元素</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">// boxEl.append(h2El)</span></span><br><span class="javascript">  <span class="hljs-comment">// boxEl.prepend(h1El)</span></span><br><span class="javascript">  <span class="hljs-comment">// boxEl.before(h1El)</span></span><br><span class="javascript">  <span class="hljs-comment">// boxEl.after(h1El)</span></span><br><span class="javascript">  <span class="hljs-comment">// boxEl.replaceWith(h2El)</span></span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//移除元素</span></span><br><span class="javascript">  <span class="hljs-comment">// boxEl.remove()</span></span><br><span class="javascript">  <span class="hljs-comment">//克隆元素</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl1 = boxEl.cloneNode(<span class="hljs-literal">true</span>)</span><br><span class="javascript">  boxEl.append(boxEl1)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-5-5-元素的大小和滚动"><a href="#4-5-5-元素的大小和滚动" class="headerlink" title="4.5.5 元素的大小和滚动"></a>4.5.5 元素的大小和滚动</h4><ul>
<li><p>client相关（元素内部）</p>
<ul>
<li>clientWidth/clientHeight<ul>
<li>contentWith/Height+padding (不包含滚动条)</li>
</ul>
</li>
<li>clientTop/clientLeft<ul>
<li>border-top的宽度、border-left的宽度</li>
</ul>
</li>
</ul>
</li>
<li><p>offset相关</p>
<ul>
<li>offsetWidth/offsetHeight：元素完整的宽度/高度</li>
<li>offsetLeft/offsetHeight：距离第一个定位父元素的X/Y</li>
</ul>
</li>
<li><p>scroll相关</p>
<ul>
<li>scrollHeight：整个可滚动的区域高度</li>
<li>scrollTop：滚动部分的高度</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">  <span class="hljs-selector-class">.box</span>&#123;</span><br><span class="css">    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="css">    <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="css">    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="css">    <span class="hljs-attribute">overflow</span>: auto;</span><br><span class="css">    <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="css">    <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid red;</span><br><span class="css">  &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>  <br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  123<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//原来获取样式的方法,通过getCom,局限性很强</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(getComputedStyle(boxEl).width)</span><br><span class="javascript">  </span><br><span class="javascript">  <span class="hljs-comment">//滚动条占据了宽度,所以元素的宽度只有185+10*2</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.clientHeight, boxEl.clientWidth)<span class="hljs-comment">//220 205</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.clientTop, boxEl.clientLeft)<span class="hljs-comment">// 10 10</span></span><br><span class="javascript">  <span class="hljs-comment">//元素整体所占宽高:加上border</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.offsetWidth, boxEl.offsetHeight)<span class="hljs-comment">//240 240</span></span><br><span class="javascript">  <span class="hljs-comment">//元素距离父元素的X/Y,这里是自带的外边距</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.offsetLeft, boxEl.offsetTop)<span class="hljs-comment">//8 8</span></span><br><span class="javascript">  <span class="hljs-comment">//可滚动的高度/滚动了多少高度</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(boxEl.scrollHeight, boxEl.scrollTop)<span class="hljs-comment">//583 0</span></span><br><span class="javascript">  <span class="hljs-comment">//监听滚动事件,打印滚动的距离</span></span><br><span class="javascript">  boxEl.addEventListener(<span class="hljs-string">&quot;scroll&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(boxEl.scrollTop)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-5-6-window的大小和滚动"><a href="#4-5-6-window的大小和滚动" class="headerlink" title="4.5.6 window的大小和滚动"></a>4.5.6 window的大小和滚动</h4><ul>
<li><p>window的宽高</p>
<ul>
<li>innerWidth/innerHeight：获取window窗口的宽度和高度（包含滚动条）</li>
<li>outerWidth/outerHeight：获取window窗口的整个宽高（包括调试工具、工具栏）</li>
<li>documentElement.clientHeight/documentElement.clientWidth  html/网页的宽高</li>
</ul>
</li>
<li><p>window的滚动位置</p>
<ul>
<li>scrollX：X轴滚动的位置（别名pageXOffset）</li>
<li>scrollY：Y轴滚动的位置（别名pageYOffset）</li>
</ul>
</li>
<li><p>滚动方法</p>
<ul>
<li>scrollBy(x, y)：将页面滚动至相对当前位置的x,y的位置</li>
<li>scrollTo(pageX, pageY)：滚动至绝对坐标</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>scrollTo<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn1&quot;</span>&gt;</span>scrollBy<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;toTop&quot;</span>&gt;</span>回到顶部<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//681 1319 整个页面的宽高(不包含工具栏)</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.innerHeight, <span class="hljs-built_in">window</span>.innerWidth)</span><br><span class="javascript">  <span class="hljs-comment">//760 1319 整个浏览器宽高(包含工具栏)</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.outerHeight, <span class="hljs-built_in">window</span>.outerWidth)</span><br><span class="javascript">  <span class="hljs-comment">//681 1304  整个页面宽高(不包含滚动条)</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">document</span>.documentElement.clientHeight, <span class="hljs-built_in">document</span>.documentElement.clientWidth)</span><br><span class="javascript">  <span class="hljs-comment">//监听滚动事件,打印滚动位置</span></span><br><span class="javascript">  <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;scroll&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.scrollX, <span class="hljs-built_in">window</span>.screenY)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  <span class="hljs-comment">//滚动到绝对位置</span></span><br><span class="javascript">  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.btn&quot;</span>).addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">window</span>.scrollTo(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  <span class="hljs-comment">//以当前滚动位置为参考点</span></span><br><span class="javascript">  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.btn1&quot;</span>).addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">window</span>.scrollBy(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  </span><br><span class="javascript">  <span class="hljs-comment">//点击按钮回到顶部案例</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> btnTop = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.toTop&quot;</span>)</span><br><span class="javascript">  btnTop.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">window</span>.scrollTo(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  btnTop.hidden = <span class="hljs-literal">true</span></span><br><span class="javascript">  <span class="hljs-comment">//如果滚动距离较近,隐藏按钮</span></span><br><span class="javascript">  <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;scroll&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">window</span>.scrollY &gt; <span class="hljs-number">800</span>)&#123;</span><br><span class="javascript">      <span class="hljs-comment">// btnTop.style.display = &quot;block&quot;</span></span><br><span class="javascript">      btnTop.hidden = <span class="hljs-literal">false</span></span><br><span class="javascript">    &#125;<span class="hljs-keyword">else</span>&#123;</span><br><span class="javascript">      <span class="hljs-comment">// btnTop.style.display = &quot;none&quot;</span></span><br><span class="javascript">      btnTop.hidden = <span class="hljs-literal">true</span></span><br><span class="javascript">    &#125;</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-6-事件"><a href="#4-6-事件" class="headerlink" title="4.6 事件"></a>4.6 事件</h3><h4 id="4-6-1-认识事件处理"><a href="#4-6-1-认识事件处理" class="headerlink" title="4.6.1 认识事件处理"></a>4.6.1 认识事件处理</h4><ul>
<li><p>什么是事件</p>
<ul>
<li>Web页面和用户进行交互的过程中执行的某种动作</li>
</ul>
</li>
<li><p>事件监听的三种方法</p>
<ul>
<li><p>DOM属性监听</p>
</li>
<li><p>在script中直接监听</p>
</li>
<li><p>通过EventTarget中的addEventListener来监听</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 事件处理方式一: HTML属性内 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;console.log(&#x27;hello event&#x27;)&quot;</span>&gt;</span>btn<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn2&quot;</span>&gt;</span>btn2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn3&quot;</span>&gt;</span>btn3<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//事件处理方式二: onclick属性赋值函数(添加多次后面会覆盖前面的)</span></span><br><span class="javascript">  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.btn2&quot;</span>).onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;hello event&quot;</span>)</span><br><span class="javascript">  &#125;</span><br><span class="javascript">  <span class="hljs-comment">//方式三: addEventListener方法（添加多次不会覆盖）</span></span><br><span class="javascript">  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.btn3&quot;</span>).addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;hello event&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="4-6-2-事件冒泡捕获"><a href="#4-6-2-事件冒泡捕获" class="headerlink" title="4.6.2 事件冒泡捕获"></a>4.6.2 事件冒泡捕获</h4><ul>
<li><p>事件流</p>
<ul>
<li>当一个元素被点击时，其实点击的还有它的父元素</li>
<li>而这种一层层把点击传递到父元素的动作就叫事件流</li>
</ul>
</li>
<li><p>事件冒泡和事件捕获</p>
<ul>
<li>传递方向<ul>
<li>事件冒泡：默认情况下事件是从最内层(发生点击的那层)依次向外传递的</li>
<li>事件捕获：另一种监听事件的方式，从外层到内层</li>
</ul>
</li>
<li>为什么会产生两种不同的处理流<ul>
<li>在早期IE和Netscap公司采用完全相反的事件流对事件进行传递</li>
<li>IE采用事件冒泡，Netscape采用事件捕获</li>
</ul>
</li>
<li>如何去监听事件冒泡/捕获的过程<ul>
<li>默认情况下就是事件冒泡</li>
<li>事件捕获需要传递第二个参数true才能监听</li>
</ul>
</li>
</ul>
</li>
<li><p>事件捕获和冒泡的过程</p>
<ul>
<li>如果我们同时监听事件捕获和冒泡，会按照以下顺序执行<ul>
<li>捕获阶段：事件从window向内层走进元素</li>
<li>目标阶段：事件到达目标元素</li>
<li>冒泡阶段：事件从元素上开始冒泡</li>
</ul>
</li>
<li>获取当前阶段：事件对象event.eventPhase</li>
<li>开发通常使用事件冒泡，事件捕获了解即可</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)</span><br><span class="javascript">  <span class="hljs-keyword">var</span> spanEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;span&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//点击span会打印: span事件执行 box事件执行了</span></span><br><span class="javascript">  <span class="hljs-comment">//默认只执行冒泡(没有监听捕获的情况下)</span></span><br><span class="javascript">  spanEl.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;span事件执行了!&quot;</span>)</span><br><span class="javascript">  &#125;</span><br><span class="javascript">  boxEl.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;box事件执行了!&quot;</span>)</span><br><span class="javascript">  &#125;</span><br><span class="javascript">  <span class="hljs-comment">//添加以下捕获监听后,打印如下</span></span><br><span class="javascript">  <span class="hljs-comment">//捕获box =&gt; 捕获span =&gt; span事件执行 =&gt; box事件执行</span></span><br><span class="javascript">  spanEl.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;我是捕获的span&quot;</span>)</span><br><span class="javascript">  &#125;, <span class="hljs-literal">true</span>)</span><br><span class="javascript">  boxEl.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;我是捕获的box&quot;</span>)</span><br><span class="javascript">  &#125;, <span class="hljs-literal">true</span>)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-6-3-事件对象event"><a href="#4-6-3-事件对象event" class="headerlink" title="4.6.3 事件对象event"></a>4.6.3 事件对象event</h4><ul>
<li><p>什么是事件对象</p>
<ul>
<li>事件发生时会传递一个对象，它封装了事件的相关信息（如：事件类型、点击元素、点击位置…）</li>
</ul>
</li>
<li><p>事件对象的获取</p>
<ul>
<li>在传入的回调函数参数中拿到event对象</li>
</ul>
</li>
<li><p>event常见属性和方法</p>
<ul>
<li>常见属性<ul>
<li>type eventPhase  事件类型/事件所处阶段</li>
<li>target currentTarget  当前事件发生的元素/当前事件处理元素 （常用）</li>
<li>offsetX offsetY  事件发生在元素内的位置</li>
<li>clientX clientY  事件发生在客户端内的位置(没有滚动条时和page一样)</li>
<li>pageX pageY    事件发生相对于document的位置</li>
<li>screenX screenY  事件发生相对于屏幕位置</li>
</ul>
</li>
<li>常见方法<ul>
<li>preventDefault  取消事件的默认行为</li>
<li>stopPropagation  阻止事件的传递（冒泡和捕获都可以阻止）</li>
</ul>
</li>
</ul>
</li>
<li><p>事件处理中的this</p>
<ul>
<li>this指向当前发生的元素，和event.currentTarget完全一致</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.baidu.com&quot;</span>&gt;</span>百度一下<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)</span><br><span class="javascript">  <span class="hljs-keyword">var</span> spanEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;span&quot;</span>)</span><br><span class="javascript"></span><br><span class="javascript">  spanEl.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-comment">//一些位置信息</span></span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.clientX, event.clientY)</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.offsetX, event.offsetY)</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.pageX, event.pageY)</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.screenX, event.screenY)</span><br><span class="javascript">      </span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.type, event.eventPhase)  <span class="hljs-comment">//click 2</span></span><br><span class="javascript">    <span class="hljs-comment">//&lt;span&gt;&lt;/span&gt;  span&gt;&lt;/span&gt;</span></span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.target, event.currentTarget)</span><br><span class="javascript">    <span class="hljs-comment">//阻止冒泡,加了这行代码,box就不会冒泡了</span></span><br><span class="javascript">    event.stopPropagation()</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  boxEl.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.eventPhase)  <span class="hljs-comment">//冒泡触发 3  自己点击触发 2</span></span><br><span class="javascript">    <span class="hljs-comment">//点击span: &lt;span&gt;&lt;/span&gt;  &lt;div&gt;&lt;/div&gt;</span></span><br><span class="javascript">    <span class="hljs-comment">//点击div: &lt;div&gt;&lt;/div&gt;  &lt;div&gt;&lt;/div&gt;</span></span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.target, event.currentTarget)</span><br><span class="javascript">  &#125;</span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//阻止a链接的默认跳转行为</span></span><br><span class="javascript">  <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;a&quot;</span>).addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>&#123;</span><br><span class="javascript">    event.preventDefault()</span><br><span class="javascript">    <span class="hljs-comment">//this指向currentTarget</span></span><br><span class="javascript">    <span class="hljs-built_in">this</span>.style.color = <span class="hljs-string">&quot;green&quot;</span></span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.currentTarget === <span class="hljs-built_in">this</span>)  <span class="hljs-comment">//true</span></span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-6-4-EventTarget使用"><a href="#4-6-4-EventTarget使用" class="headerlink" title="4.6.4 EventTarget使用"></a>4.6.4 EventTarget使用</h4><ul>
<li><p>所有节点、元素都继承自EventTarget，包括Window</p>
</li>
<li><p>EventTarget作用</p>
<ul>
<li>是一个DOM接口，用于添加、删除、派发Event事件</li>
</ul>
</li>
<li><p>常见方法</p>
<ul>
<li>addEventListener  注册某个类型的事件处理函数</li>
<li>removeEventListener  移除某个类型的事件处理函数</li>
<li>dispatchEvent  派发某个事件类型到EventTarget上</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>click<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> btnEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;button&quot;</span>)</span><br><span class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fun</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;点击了&quot;</span>)</span><br><span class="javascript">  &#125; </span><br><span class="javascript">  <span class="hljs-comment">//添加事件监听</span></span><br><span class="javascript">  btnEl.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, fun)</span><br><span class="javascript">  <span class="hljs-comment">//删除事件监听</span></span><br><span class="javascript">  btnEl.removeEventListener(<span class="hljs-string">&quot;click&quot;</span>, fun)</span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;kygo&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;事件执行啦&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  <span class="hljs-comment">//给window派发事件</span></span><br><span class="javascript">  <span class="hljs-built_in">window</span>.dispatchEvent(<span class="hljs-keyword">new</span> Event(<span class="hljs-string">&quot;kygo&quot;</span>))</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-6-5-事件委托模式"><a href="#4-6-5-事件委托模式" class="headerlink" title="4.6.5 事件委托模式"></a>4.6.5 事件委托模式</h4><ul>
<li><p>事件委托的实现原理</p>
<ul>
<li>事件冒泡</li>
<li>当子元素被点击时，父元素可以通过冒泡监听到子元素的点击</li>
<li>并且可以通过event.target获取到点击的元素</li>
</ul>
</li>
<li><p>应用举例</p>
<ul>
<li>一个ul中有多个li，点击某个li变红色</li>
<li>方案<ul>
<li>一：监听每一个li的点击，做出相应变化（不推荐）</li>
<li>二：在ul中监听li的点击，通过taget拿到点击的li处进行理（更加高效，不需遍历）</li>
</ul>
</li>
</ul>
</li>
<li><p>事件委托的标记</p>
<ul>
<li>事件委托可能会需要对具体的子元素进行区分，这时可以通过使用date-*来标记</li>
<li>通过event.target.dataset.*来获取具体某个子元素，如点击了哪个按钮等</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> ulEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;ul&quot;</span>)</span><br><span class="javascript">  <span class="hljs-keyword">var</span> liEls = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&quot;li&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">// 循环实现添加</span></span><br><span class="javascript">  <span class="hljs-comment">// for(var item of liEls) &#123;</span></span><br><span class="javascript">  <span class="hljs-comment">//   item.onclick = function() &#123;</span></span><br><span class="javascript">  <span class="hljs-comment">//     this.classList.add(&quot;active&quot;)</span></span><br><span class="javascript">  <span class="hljs-comment">//   &#125;</span></span><br><span class="javascript">  <span class="hljs-comment">// &#125;</span></span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> beforeClickEl = <span class="hljs-literal">null</span></span><br><span class="javascript">  <span class="hljs-comment">//事件委托实现</span></span><br><span class="javascript">  ulEl.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>&#123;</span><br><span class="javascript">      </span><br><span class="javascript">    <span class="hljs-comment">//点击取消前一次变色的</span></span><br><span class="javascript">    <span class="hljs-comment">//方案一: 循环遍历</span></span><br><span class="javascript">    <span class="hljs-comment">// for(var item of liEls)&#123;</span></span><br><span class="javascript">    <span class="hljs-comment">//     if(item.classList.contains(&quot;active&quot;))&#123;</span></span><br><span class="javascript">    <span class="hljs-comment">//       item.classList.remove(&quot;active&quot;)</span></span><br><span class="javascript">    <span class="hljs-comment">//     &#125;</span></span><br><span class="javascript">    <span class="hljs-comment">// &#125;</span></span><br><span class="javascript">    <span class="hljs-comment">// 方案二: 查找有active的</span></span><br><span class="javascript">    <span class="hljs-comment">// var activeEl = document.querySelector(&quot;.active&quot;)</span></span><br><span class="javascript">    <span class="hljs-comment">// activeEl &amp;&amp; activeEl.classList.remove(&quot;active&quot;)</span></span><br><span class="javascript">      </span><br><span class="javascript">    <span class="hljs-comment">//方案三: 变量记录上次点击的li</span></span><br><span class="javascript">    beforeClickEl &amp;&amp; beforeClickEl.classList.remove(<span class="hljs-string">&quot;active&quot;</span>)</span><br><span class="javascript">    event.target.classList.add(<span class="hljs-string">&quot;active&quot;</span>)</span><br><span class="javascript">	  <span class="hljs-comment">//记录当次变色的li</span></span><br><span class="javascript">    beforeClickEl = event.target</span><br><span class="javascript">    </span><br><span class="javascript">    <span class="hljs-comment">//通过dataset找到具体某个子元素</span></span><br><span class="javascript">    <span class="hljs-keyword">if</span>(event.target.dataset.name === <span class="hljs-string">&quot;kygo&quot;</span>) &#123;</span><br><span class="javascript">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;点击了kygo&quot;</span>)</span><br><span class="javascript">    &#125;</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-6-6-常见的事件"><a href="#4-6-6-常见的事件" class="headerlink" title="4.6.6 常见的事件"></a>4.6.6 常见的事件</h4><ul>
<li><p>常见的鼠标事件</p>
<ul>
<li>不仅仅是鼠标，也包括模拟鼠标的设备（如手机、平板）</li>
<li>click/contextmenu/dblclick<ul>
<li>点击/点击右键/双击</li>
</ul>
</li>
<li>mousedown/mouseup<ul>
<li>鼠标按钮按下/抬起</li>
</ul>
</li>
<li>mouseover/mouseout<ul>
<li>鼠标移到元素上/移出（支持冒泡）</li>
</ul>
</li>
<li>mouseenter/mouseleave<ul>
<li>鼠标移到元素上/移出（不支持冒泡）</li>
</ul>
</li>
<li>mousemove  鼠标移动</li>
</ul>
</li>
<li><p>mouseover和mouseenter区别解析</p>
<ul>
<li><p>mouseenter和mouseleave</p>
<ul>
<li>不支持冒泡</li>
<li>进入子元素依然属于该元素内，没有任何反应</li>
</ul>
</li>
<li><p>mouseover和mouseout</p>
<ul>
<li>支持冒泡</li>
<li>进入子元素时：<ul>
<li>先调用父元素的mouseout =&gt; 再调用子元素的mouseover </li>
<li>=&gt;因为冒泡mouseover传递到父元素</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>应用</strong></p>
<ul>
<li>mouseover/out可用于事件委托，而mouseenter不行(事件委托前提是支持冒泡)</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>点击<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//鼠标右击阻止默认事件示例</span></span><br><span class="javascript">  <span class="hljs-built_in">document</span>.documentElement.addEventListener(<span class="hljs-string">&quot;contextmenu&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>&#123;</span><br><span class="javascript">    event.preventDefault()</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//mouseover和mouseout</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> boxEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.box&quot;</span>)</span><br><span class="javascript">  <span class="hljs-keyword">var</span> spanEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;span&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//鼠标从box进入span: box over =&gt; box out =&gt; span over =&gt; box over</span></span><br><span class="javascript">  <span class="hljs-comment">//鼠标从span出来到box,再出box外: span out =&gt; box out =&gt; box over =&gt; box out</span></span><br><span class="javascript">  <span class="hljs-comment">// boxEl.addEventListener(&quot;mouseover&quot;, function() &#123;</span></span><br><span class="javascript">  <span class="hljs-comment">//   console.log(&quot;box over&quot;)</span></span><br><span class="javascript">  <span class="hljs-comment">// &#125;)</span></span><br><span class="javascript">  <span class="hljs-comment">// boxEl.addEventListener(&quot;mouseout&quot;, function() &#123;</span></span><br><span class="javascript">  <span class="hljs-comment">//   console.log(&quot;box out&quot;)</span></span><br><span class="javascript">  <span class="hljs-comment">// &#125;)</span></span><br><span class="javascript">  <span class="hljs-comment">// spanEl.addEventListener(&quot;mouseover&quot;, function() &#123;</span></span><br><span class="javascript">  <span class="hljs-comment">//   console.log(&quot;span over&quot;)</span></span><br><span class="javascript">  <span class="hljs-comment">// &#125;)</span></span><br><span class="javascript">  <span class="hljs-comment">// spanEl.addEventListener(&quot;mouseout&quot;, function() &#123;</span></span><br><span class="javascript">  <span class="hljs-comment">//   console.log(&quot;span out&quot;)</span></span><br><span class="javascript">  <span class="hljs-comment">// &#125;)</span></span><br><span class="javascript">  </span><br><span class="javascript">  <span class="hljs-comment">//鼠标进入box到pan再从span出来到box,最后出box</span></span><br><span class="javascript">  <span class="hljs-comment">//box enter =&gt; span enter =&gt; span leave =&gt; box leave</span></span><br><span class="javascript">  boxEl.addEventListener(<span class="hljs-string">&quot;mouseenter&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;box enter&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  boxEl.addEventListener(<span class="hljs-string">&quot;mouseleave&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;box leave&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  spanEl.addEventListener(<span class="hljs-string">&quot;mouseleave&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;span enter&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  spanEl.addEventListener(<span class="hljs-string">&quot;mouseleave&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;span leave&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>键盘事件</p>
<ul>
<li><p>常见键盘事件</p>
<ul>
<li>onkeydown  某个键盘按键被按下</li>
<li>onkeypress  某个键盘按键被按下</li>
<li>onkeyup 某个键盘按键被松开</li>
</ul>
</li>
<li><p>事件执行顺序</p>
<ul>
<li>down =&gt; press =&gt; up</li>
</ul>
</li>
<li><p>key和value</p>
<ul>
<li>作用：区分按下的键</li>
<li>event.key：字符(“A”…),非字符和code一样</li>
<li>event.code：按键代码（”KeyA”）</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;search&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> inputEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.search&quot;</span>) </span><br><span class="javascript">  <span class="hljs-comment">//当在input按下某个键立即松开: key down =&gt; key press =&gt; key up</span></span><br><span class="javascript">  <span class="hljs-comment">//按下某个键不立即松开: key down =&gt; key press =&gt;keydown keypress... =&gt;key up</span></span><br><span class="javascript">  inputEl.addEventListener(<span class="hljs-string">&quot;keydown&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;key down!&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  inputEl.addEventListener(<span class="hljs-string">&quot;keyup&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;key up!&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  inputEl.addEventListener(<span class="hljs-string">&quot;keypress&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;key press!&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//案列1: 点击enter键进行搜索</span></span><br><span class="javascript">  inputEl.addEventListener(<span class="hljs-string">&quot;keyup&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-comment">//Enter Enter</span></span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.code, event.key)</span><br><span class="javascript">    <span class="hljs-keyword">if</span> (event.code === <span class="hljs-string">&quot;Enter&quot;</span>) &#123;</span><br><span class="javascript">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;开始搜索&quot;</span>)</span><br><span class="javascript">    &#125;</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//案列2: 点击s键光标聚焦到搜索框</span></span><br><span class="javascript">  <span class="hljs-built_in">document</span>.documentElement.addEventListener(<span class="hljs-string">&quot;keyup&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-comment">//KeyS s  不用记,先打印看看值再使用</span></span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(event.code, event.key)</span><br><span class="javascript">    <span class="hljs-keyword">if</span> (event.code === <span class="hljs-string">&quot;KeyS&quot;</span>) &#123;</span><br><span class="javascript">      inputEl.focus()</span><br><span class="javascript">    &#125;</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>常见表单事件</p>
<ul>
<li><p>onchange  表单元素内容改变时触发(当光标离开且内容改变才会触发)</p>
</li>
<li><p>oninput  元素获取用户输入时触发</p>
</li>
<li><p>onfocus/onblur  获取/失去焦点触发</p>
</li>
<li><p>onreset/onsubmit  表单重置/提交时触发（针对于表单form元素）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/123&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> inputEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;input&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//光标定到input,在input中输入到光标离开input</span></span><br><span class="javascript">  <span class="hljs-comment">//focus =&gt; input input... =&gt; change =&gt; blur</span></span><br><span class="javascript">  inputEl.addEventListener(<span class="hljs-string">&quot;input&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;input事件执行了&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  inputEl.addEventListener(<span class="hljs-string">&quot;change&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;change事件执行了&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  inputEl.addEventListener(<span class="hljs-string">&quot;focus&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;focus事件执行了&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  inputEl.addEventListener(<span class="hljs-string">&quot;blur&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;blur事件执行了&quot;</span>)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  <span class="hljs-comment">//阻止submit按钮默认事件提交</span></span><br><span class="javascript">  <span class="hljs-comment">//方式一: 使用submit按钮的click阻止</span></span><br><span class="javascript">  <span class="hljs-comment">// var submitEl = document.querySelector(&quot;button&quot;)</span></span><br><span class="javascript">  <span class="hljs-comment">// submitEl.addEventListener(&quot;click&quot;, function(event) &#123;</span></span><br><span class="javascript">  <span class="hljs-comment">//   event.preventDefault()</span></span><br><span class="javascript">  <span class="hljs-comment">// &#125;)</span></span><br><span class="javascript">  <span class="hljs-comment">//方式二: 使用form表单的submit事件阻止</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> formEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;form&quot;</span>)</span><br><span class="javascript">  formEl.addEventListener(<span class="hljs-string">&quot;submit&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>&#123;</span><br><span class="javascript">    event.preventDefault()</span><br><span class="javascript">  &#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>文档加载事件</p>
<ul>
<li><p>DOMContentLoaded</p>
<ul>
<li>浏览器已经完全加载HTML并创建DOM树，但是img和link样式表等外部资源可能还没有完全加载</li>
</ul>
</li>
<li><p>load  </p>
<ul>
<li>HTML和所有外部资源都已加载完成</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//如果将js放到html前面就会拿不到元素</span></span><br><span class="javascript">  <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;DOMContentLoaded&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-keyword">var</span> imgEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;img&quot;</span>)</span><br><span class="javascript">    <span class="hljs-comment">//0 0 会出现获取不到图片大小的情况,因为DOMContentLoaded事件不会等待外部资源加载</span></span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(imgEl.offsetWidth, imgEl.offsetHeight)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  <span class="hljs-comment">//这时可以使用load</span></span><br><span class="javascript">  <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;load&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-keyword">var</span> imgEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;img&quot;</span>)</span><br><span class="javascript">    <span class="hljs-comment">//860 574</span></span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(imgEl.offsetWidth, imgEl.offsetHeight)</span><br><span class="javascript">  &#125;)</span><br><span class="javascript">  </span><br><span class="javascript">  <span class="hljs-comment">//resize-文档视图大小调整时触发</span></span><br><span class="javascript">  <span class="hljs-built_in">window</span>.onresize = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;屏幕尺寸改变了!&quot;</span>)</span><br><span class="javascript">  &#125;</span><br><span class="javascript">  </span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span>box<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./../../img/R-C.jpeg&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>事件类型文档：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Events">https://developer.mozilla.org/zh-CN/docs/Web/Events</a></p>
</li>
</ul>
<h3 id="4-7-定时器"><a href="#4-7-定时器" class="headerlink" title="4.7 定时器"></a>4.7 定时器</h3><ul>
<li><p>定时器作用：推迟/重复执行一个函数的执行，定时调用</p>
</li>
<li><p>两种方法</p>
<ul>
<li>setTimeout<ul>
<li>将函数推迟一段时间间隔再执行</li>
<li>clearTimeout-取消定时器</li>
</ul>
</li>
<li>setInterval<ul>
<li>以相同事件间隔重复运行一个函数</li>
<li>clearInterval-取消定时器</li>
</ul>
</li>
<li>虽然是window对象上的方法，但是nodejs也支持（node中也有全局对象）</li>
</ul>
</li>
<li><p>setTimeout</p>
<ul>
<li>特点：在特定时间后调用一次</li>
<li>语法：let timerId = setTimeout(func|code,  [delay], [arg1]…)<ul>
<li>func|code 要执行的函数或代码字符串</li>
<li>delay 执行前的延迟，以毫秒为单位</li>
<li>arg1… 要传入被执行函数的参数列表</li>
</ul>
</li>
<li>clearTimeout(timerID)方法<ul>
<li>setTimeout调用会返回一个”定时器标识符”</li>
</ul>
</li>
</ul>
</li>
<li><p>setInterval</p>
<ul>
<li>特点：按给定的时间周期性执行</li>
<li>语法和参数与setTimeout完全相同</li>
</ul>
</li>
<li><p>定时器的宏任务概览-JS高级</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fun</span>(<span class="hljs-params">name, age</span>)</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;hello world&quot;</span>, name, age) <br>&#125;<br><span class="hljs-comment">//5s后输出一次hello world</span><br><span class="hljs-comment">//Result: hello world kygo 18</span><br><span class="hljs-keyword">var</span> timerId = <span class="hljs-built_in">setTimeout</span>(fun, <span class="hljs-number">5000</span>, <span class="hljs-string">&quot;kygo&quot;</span>, <span class="hljs-string">&quot;18&quot;</span>)<br><br><span class="hljs-comment">//每5s输出一次hello world</span><br><span class="hljs-keyword">var</span> timerId2 = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;hello world&quot;</span>)<br>&#125;, <span class="hljs-number">5000</span>)<br><br><span class="hljs-comment">//取消定时器</span><br><span class="hljs-comment">// clearTimeout(timerId)</span><br><span class="hljs-comment">// clearInterval(timerId2)</span><br></code></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="5-BOM"><a href="#5-BOM" class="headerlink" title="5. BOM"></a>5. BOM</h2><p>BOM就是提供了一套操作浏览器的API(接口/方法/属性)</p>
<h3 id="5-1-认识BOM"><a href="#5-1-认识BOM" class="headerlink" title="5.1 认识BOM"></a>5.1 认识BOM</h3><ul>
<li><p>定义</p>
<ul>
<li>浏览器对象模型（Browser Object Model），简称BOM</li>
<li>由浏览器提供的用于处理文档之外的所有内容的对象</li>
</ul>
</li>
<li><p>BOM主要包括以下对象</p>
<ul>
<li><p>window：全局对象，包括全局属性、方法</p>
</li>
<li><p>location：访问URL信息</p>
</li>
<li><p>history ：操作浏览器的历史记录</p>
</li>
<li><p>navigator/screen：浏览器相关信息/屏幕窗口信息 （少用）</p>
</li>
</ul>
</li>
</ul>
<h3 id="5-2-全局对象window"><a href="#5-2-全局对象window" class="headerlink" title="5.2 全局对象window"></a>5.2 全局对象window</h3><p>window 代表整个浏览器窗口(BOM中的一个顶级对象(全局))</p>
<ul>
<li><p>不同视角看待</p>
<ul>
<li>全局对象<ul>
<li>ECMAScript中有一个全局对象，这个全局对象在浏览器中叫window，在node中叫global</li>
<li>对于全局对象名称不一致的情况，指定了标准globalThis，且大多数浏览器都支持</li>
</ul>
</li>
<li>浏览器窗口对象<ul>
<li>提供了对浏览器操作的相关API</li>
</ul>
</li>
</ul>
</li>
<li><p>一些注意点</p>
<ul>
<li>放在widow上的所有属性都可以被访问</li>
<li>使用var定义的变量会被添加到window对象上</li>
<li>window默认给我们提供了全局的函数和类：setTimeout、Math、Date、Object等</li>
</ul>
</li>
<li><p>window的重任</p>
<ul>
<li>大量属性，localStorage、console、location、history、screenX、scrollX等（60+）</li>
<li>大量方法，alert、scrollTo、close、open等（40+）</li>
<li>大量事件，focus、blur、load、hashchange等（30+）</li>
<li>继承自EventTarget的方法，addEventListener、removeEventListener、dispatchEvent</li>
</ul>
</li>
<li><p>文档地址：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window">https://developer.mozilla.org/zh-CN/docs/Web/API/Window</a></p>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>btn<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span> === globalThis)  <span class="hljs-comment">//true</span></span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//补充方法</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> btnEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.btn&quot;</span>)</span><br><span class="javascript">  btnEl.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-comment">// window.open(&quot;http://www.baidu.com&quot;, &quot;_blank&quot;)</span></span><br><span class="javascript">    <span class="hljs-comment">//注意: 必须是open打开的窗口才能用close关闭</span></span><br><span class="javascript">    <span class="hljs-built_in">window</span>.close()</span><br><span class="javascript">  &#125;</span><br><span class="javascript">  <span class="hljs-comment">//常见事件</span></span><br><span class="javascript">  <span class="hljs-built_in">window</span>.onfocus = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;window获得了焦点&quot;</span>)</span><br><span class="javascript">  &#125;</span><br><span class="javascript">  <span class="hljs-built_in">window</span>.onhashchange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;hash值发生改变了&quot;</span>)</span><br><span class="javascript">  &#125;</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="5-3-location对象"><a href="#5-3-location对象" class="headerlink" title="5.3 location对象"></a>5.3 location对象</h3><ul>
<li><p>作用：表示window上当前链接到的URL信息</p>
</li>
<li><p>常见属性</p>
<ul>
<li>href  当前URL，可用于获取或设置URL</li>
<li>protocol/host/hostname/port  协议/主机地址/主机地址(无端口)/端口</li>
<li>pathname/search/hash  路径/查询字符串/哈希值</li>
</ul>
</li>
<li><p>常用方法</p>
<ul>
<li>assign：赋值一个新的URL，并跳转到其中</li>
<li>replace：赋值新URL并跳转（没有历史记录）</li>
<li>reload：重新加载页面(刷新)，可传入true表示强制清缓存刷新</li>
</ul>
</li>
<li><p>URLSearchParams</p>
<ul>
<li>作用：处理URL的查询字符串</li>
<li>字符串和URLSearchParams类型之间可以相互转换</li>
<li>常用方法<ul>
<li>get/set：获取/设置参数的值（set有就修改，没有就追加）</li>
<li>append：追加一个搜索参数的值</li>
<li>has：判断是否有某个参数</li>
</ul>
</li>
<li>注意：中文会用encodeURIComponent和decodeURIComponent进行编码和解码</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//常见属性：属性不仅可读,而且可以设置</span></span><br><span class="javascript">  location.hash = <span class="hljs-string">&quot;#top&quot;</span></span><br><span class="javascript">  location.search = <span class="hljs-string">&quot;?name=kygo&amp;age=18&quot;</span></span><br><span class="javascript">  <span class="hljs-comment">//http://127.0.0.1:5500/2-JavaScript/BOM/3.%20location.html?name=kygo&amp;age=18#top</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(location.href)</span><br><span class="javascript">  <span class="hljs-comment">//http:  127.0.0.1:5500  127.0.0.1  5500</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(location.protocol, location.host, location.hostname, location.port)</span><br><span class="javascript">  <span class="hljs-comment">// /2-JavaScript/BOM/3.%20location.html  </span></span><br><span class="javascript">  <span class="hljs-comment">// ?name=kygo&amp;age=18  #top </span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(location.pathname, location.search ,location.hash)</span><br><span class="javascript">  </span><br><span class="javascript">  <span class="hljs-comment">//常见方法</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> btnEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.btn&quot;</span>)</span><br><span class="javascript">  btnEl.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-comment">// location.reload(true)</span></span><br><span class="javascript">    <span class="hljs-comment">// location.assign(&quot;http://www.baidu.com&quot;)</span></span><br><span class="javascript">    location.replace(<span class="hljs-string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="javascript">  &#125;</span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//URLSearchParams</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> urlSearch = <span class="hljs-keyword">new</span> URLSearchParams(<span class="hljs-string">&quot;?name=kygo&amp;age=18&quot;</span>)</span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(urlSearch.get(<span class="hljs-string">&quot;name&quot;</span>), urlSearch.get(<span class="hljs-string">&quot;age&quot;</span>))  <span class="hljs-comment">//kygo 18</span></span><br><span class="javascript">  urlSearch.set(<span class="hljs-string">&quot;height&quot;</span>, <span class="hljs-number">1.88</span>)</span><br><span class="javascript"></span><br><span class="javascript">  <span class="hljs-comment">//编码和解码</span></span><br><span class="javascript">  urlSearch.append(<span class="hljs-string">&quot;addr&quot;</span>, <span class="hljs-string">&quot;成都&quot;</span>)</span><br><span class="javascript">  <span class="hljs-comment">//转为字符串</span></span><br><span class="javascript">  <span class="hljs-comment">//name=kygo&amp;age=18&amp;height=1.88&amp;addr=%E6%88%90%E9%83%BD</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(urlSearch.toString())</span><br><span class="javascript">  <span class="hljs-comment">//name=kygo&amp;age=18&amp;height=1.88&amp;addr=成都</span></span><br><span class="javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">decodeURIComponent</span>(urlSearch.toString()))</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="5-3-history对象"><a href="#5-3-history对象" class="headerlink" title="5.3 history对象"></a>5.3 history对象</h3><ul>
<li><p>作用：访问浏览器曾今的会话历史记录</p>
</li>
<li><p>属性</p>
<ul>
<li>length/state：记录条数/当前保留的状态值</li>
</ul>
</li>
<li><p>方法</p>
<ul>
<li>back/forward：返回上一页/下一页，等价于 go(-1/1)</li>
<li>go：加载具体某页 （传入0代表刷新）</li>
<li>pushState/replaceState：打开指定地址/使用replace打开新地址(无记录)</li>
</ul>
</li>
<li><p>应用</p>
<ul>
<li>history和hash是Vue等框架实现路由的底层原理</li>
<li>前端路由核心：修改了URL，不刷新页面</li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>btn<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn1&quot;</span>&gt;</span>btn1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">  <span class="hljs-keyword">var</span> btnEl = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.btn&quot;</span>)</span><br><span class="javascript">  btnEl.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-comment">// location.assign(&quot;http://www.baidu.com&quot;, &quot;_self&quot;)</span></span><br><span class="javascript">    <span class="hljs-comment">//传入一个状态/空字符串/url</span></span><br><span class="javascript">    history.pushState(&#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>&#125;, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;#top&quot;</span>)</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(history.length, history.state)</span><br><span class="javascript">  &#125;</span><br><span class="javascript">  <span class="hljs-comment">//回到上一个页面</span></span><br><span class="javascript">  <span class="hljs-keyword">var</span> btnEl1 = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.btn1&quot;</span>)</span><br><span class="javascript">  btnEl1.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    history.back()</span><br><span class="javascript">  &#125;</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="5-4-navigator和screen对象"><a href="#5-4-navigator和screen对象" class="headerlink" title="5.4 navigator和screen对象"></a>5.4 navigator和screen对象</h3><ul>
<li><p>navigator</p>
<ul>
<li>作用：表示用户代理-浏览器的状态和标识等信息</li>
<li>属性<ul>
<li>navigator.userAgent/vendor/platform：浏览器名称/浏览器厂商/浏览器运行的操作系统</li>
</ul>
</li>
</ul>
</li>
<li><p>screen</p>
<ul>
<li>作用：客户端显示器的信息</li>
<li>比如：屏幕逻辑像素 screen.width/screen.height</li>
</ul>
</li>
<li><p>示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) </span><br><span class="hljs-comment">//AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36</span><br><span class="hljs-built_in">console</span>.log(navigator.userAgent)<br><span class="hljs-built_in">console</span>.log(navigator.vendor)  <span class="hljs-comment">//Google Inc</span><br><span class="hljs-built_in">console</span>.log(navigator.platform)  <span class="hljs-comment">//MacIntel</span><br><br><span class="hljs-built_in">console</span>.log(screen.width, screen.height)  <span class="hljs-comment">//1400 900</span><br></code></pre></td></tr></table></figure>

<p>​     </p>
</li>
</ul>
<h2 id="6-JSON"><a href="#6-JSON" class="headerlink" title="6. JSON"></a>6. JSON</h2><ul>
<li><p>什么是JSON</p>
<ul>
<li>是一种可以在服务器和客户端之间传输的数据格式，不是编程语言</li>
<li>JSON全称：JavaScript Object Notation （JavaScript对象符号）</li>
<li>扩展<ul>
<li>JSON是由Douglas构想和设计的一种轻量级数据交换格式，算是JS的一个子集</li>
<li>JSON被提出的时候主要应用JavaScript中，但现在已经独立于编程语言</li>
<li>很多编程语言都实现了将JSON转成对应模型的方法</li>
</ul>
</li>
</ul>
</li>
<li><p>其他传输格式</p>
<ul>
<li>XML<ul>
<li>早期的网络数据传输使用XML，但其在解析/传输各方面都弱于JSON，现在已经不使用</li>
</ul>
</li>
<li>Protobuf<ul>
<li>在网络传输中目前用的越来越多的传输格式，但直到2021年才支持JS，所以目前前端用得较少</li>
</ul>
</li>
</ul>
</li>
<li><p>JSON的使用场景</p>
<ul>
<li>网络数据传输</li>
<li>项目的配置文件</li>
<li>非关系型数据库NoSQL将JSON作为存储格式</li>
</ul>
</li>
<li><p>JSON的基本语法</p>
<ul>
<li>JSON顶层支持三种类型的值<ul>
<li>简单值 - 布尔值、数字、字符串(不支持单引号)、null</li>
<li>对象值 - key是字符串类型，且必须加双引号，value可以是简单值、对象值、数组值</li>
<li>数组值 - 对象值可以是简单值、对象值、数组值</li>
</ul>
</li>
</ul>
</li>
<li><p>JSON序列化</p>
<ul>
<li>将JS中复杂类型转成JSON格式的字符串<ul>
<li>如：想把对象保存到localStorage中（直接存会变成[obj obj]）</li>
</ul>
</li>
<li>序列化方法<ul>
<li>ES5中引入了JSON全局对象，这个对象中有两个方法</li>
<li>stringfy方法 - 将js类型转为对应的json字符串</li>
<li>parse方法 - 将json字符串解析为js类型</li>
</ul>
</li>
<li>stringfy的参数replacer<ul>
<li>传入一个函数，选择性的替换值</li>
<li>传入一个数组，选择性的只包含数组中指定的属性</li>
<li>传入space参数，格式化JSON（了解，用得少）</li>
<li>注意：如果对象有实现toJSON方法，那stringfy会调用toJSON</li>
</ul>
</li>
<li>parse方法的参数<ul>
<li>可传入reviver函数用于在返回之前对解析的结果执行操作</li>
</ul>
</li>
<li>JSON方法可以实现对象的深拷贝（JS高级） </li>
</ul>
</li>
<li><p>代码示例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//声明一个JS对象</span><br><span class="hljs-keyword">var</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kygo&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>  <span class="hljs-attr">friend</span>: &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;kobe&quot;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-string">&quot;29&quot;</span><br>  &#125;,<br>  <span class="hljs-comment">//如果对象内部有显示声明toJSON方法,那么stringfy会直接调用(了解)</span><br>  <span class="hljs-comment">// toJSON: function()&#123;</span><br>  <span class="hljs-comment">//   return &quot;kygo&quot;</span><br>  <span class="hljs-comment">// &#125;</span><br>&#125;<br><span class="hljs-comment">//1.1 JS对象直接转化为JSON</span><br><span class="hljs-keyword">var</span> jsonStr = <span class="hljs-built_in">JSON</span>.stringify(obj)<br><span class="hljs-built_in">console</span>.log(jsonStr)<br><span class="hljs-comment">//1.2 传入一个函数</span><br><span class="hljs-keyword">var</span> jsonStr1 = <span class="hljs-built_in">JSON</span>.stringify(obj, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>&#123;<br>  <span class="hljs-comment">//将对象中值为kygo的都转换成kygogo,然后再转JSON</span><br>  <span class="hljs-keyword">if</span>(value === <span class="hljs-string">&quot;kygo&quot;</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;kygogo&quot;</span><br>  <span class="hljs-keyword">return</span> value<br>&#125;)<br><span class="hljs-built_in">console</span>.log(jsonStr1)<br><span class="hljs-comment">//1.3 传入一个数组</span><br><span class="hljs-comment">//选择性返回属性为arr中的项</span><br><span class="hljs-keyword">var</span> jsonStr2 = <span class="hljs-built_in">JSON</span>.stringify(obj, [<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>])<br><span class="hljs-built_in">console</span>.log(jsonStr2)<br><span class="hljs-comment">//1.4 space参数</span><br><span class="hljs-keyword">var</span> jsonStr3 = <span class="hljs-built_in">JSON</span>.stringify(obj, <span class="hljs-literal">null</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">console</span>.log(jsonStr3)<br><br><br><span class="hljs-comment">//2.1 JSON转JS</span><br><span class="hljs-keyword">var</span> Obj1 = <span class="hljs-built_in">JSON</span>.parse(jsonStr2)<br><span class="hljs-built_in">console</span>.log(Obj1)<br><span class="hljs-comment">//2.2 传入一个函数</span><br><span class="hljs-keyword">var</span> Obj2 = <span class="hljs-built_in">JSON</span>.parse(jsonStr2, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>&#123;<br>  <span class="hljs-comment">//找出大于等于18的age并增加3</span><br>  <span class="hljs-keyword">if</span>(key === <span class="hljs-string">&quot;age&quot;</span> &amp;&amp; value &gt;= <span class="hljs-number">18</span>) <span class="hljs-keyword">return</span> value + <span class="hljs-number">3</span><br>  <span class="hljs-keyword">return</span> value<br>&#125;)<br><span class="hljs-built_in">console</span>.log(Obj2)<br></code></pre></td></tr></table></figure></li>
</ul>
<h1 id="JS高级"><a href="#JS高级" class="headerlink" title="JS高级"></a>JS高级</h1><h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h2><ul>
<li>js的重要性</li>
</ul>
<p>​        所有框架都是在js的基础上编写的</p>
<ul>
<li>js应用场景</li>
</ul>
<p>​        web端 移动端 小程序 桌面应用(如vs code) 后端Node</p>
<ul>
<li><p>js让人疑惑的地方</p>
<p>函数、闭包 、作用域、面向对象(继承、原型链等)、ES新特征(ES6-12) </p>
<p>其他一系列知识(事件循环、宏任务、微任务、内存管理、Promise、await、asnyc、防抖节流等)</p>
</li>
<li><p>TypeScript会取代JavaScript吗</p>
</li>
</ul>
<p>​        TS致力于为JS提供类型检查，而不是取代JS(TS官方文档：源于JS，归于JS)</p>
<p>​        TS只是JS的一个超集，在它的基础上进行了扩展</p>
<p>​        并且最终TS还是需要转换为JS代码才能真正的运行        </p>
<ul>
<li><p>js是一门编程语言(高级的编程语言)</p>
<div class="code-wrapper"><pre><code class="hljs">机器语言(01) -&gt; 汇编语言(汇编指令) -&gt; 高级语言(c、c++、java、js、python)-编译型/解释型
</code></pre></div>
</li>
</ul>
<p>​        (计算机不认识高级语言，代码最终需要转换成机器指令)</p>
<h2 id="2-浏览器工作原理和V8引擎"><a href="#2-浏览器工作原理和V8引擎" class="headerlink" title="2. 浏览器工作原理和V8引擎"></a>2. 浏览器工作原理和V8引擎</h2><ul>
<li><strong>浏览器工作原理</strong></li>
</ul>
<p>​        域名 (DNS解析)-&gt; ip地址 -&gt;服务器地址-&gt; 返回index.html(解析)</p>
<p>​        解析过程中有link标签和script标签 -&gt; 到服务器再次下载对应css和js文件 </p>
<ul>
<li><p>浏览器内核</p>
<p>不同浏览器有不同内核组成</p>
<p>Gecko-早期Netscape和Firefox浏览器使用</p>
<p>Trident-IE4-11浏览器，Edge浏览器已转向Blik</p>
<p>Webkit-苹果开发的，基于Safari，Google之前也在使用</p>
<p>Blik-Webkit的一个分支，Google开发，目前应用于Google、Edge、Opera</p>
<p>浏览器内核-浏览器排版引擎/页面渲染引擎</p>
</li>
<li><p>浏览器渲染过程</p>
<p>html遇到js标签-&gt;停止解析html-&gt;加载执行js代码(js执行是在DOM-&gt;DOM Tree过程改变dom)</p>
<p>html、css解析(Parser) -&gt; DOM Tree+Style Rules -&gt; Render Tree(渲染树) -&gt; Display</p>
<p>如图：</p>
<p> <img src="C:\Users\Administrator\Desktop\2022\img\js高级_浏览器渲染过程.png" srcset="/img/loading.gif" lazyload></p>
<p>js代码是如何执行呢？</p>
</li>
<li><p>js引擎</p>
<p>定义：JavaScript引擎是一个专门处理JavaScript脚本的虚拟机，一般会附带在网页浏览器之中</p>
<p>浏览器/Node执行js代码  -&gt; 需要js引擎将js代码转换成CPU指令(机器代码)</p>
<p>引擎举例：</p>
<p>SpiderMonkey：第一款js引擎，由Brendan Eich开发(js作者)</p>
<p>Chakra：微软开发</p>
<p>JavaScriptCore：WebKit中的js引擎，Apple开发(小程序开发常用)</p>
<p>V8：Google开发的js引擎</p>
</li>
</ul>
<ul>
<li><p>浏览器内核和JS引擎的关系</p>
<ul>
<li><p>以Webkit为例，Webkit由两部分组成</p>
</li>
<li><p>WebCore ：负责HTML解析、布局、渲染等工作</p>
</li>
<li><p>JavaScriptCore：解析、执行js代码(小程序中编写的js就是被JSCore执行的)</p>
</li>
</ul>
</li>
<li><p>V8引擎的原理</p>
<p>V8是用c++编写的Goole开源高性能JavaScript和WebAssembly引擎，它用于Chrome和Node.js等  </p>
<p>V8可以独立运行，也可以嵌入到任何C++应用程序中</p>
<p>解析过程：</p>
<p>源码 -&gt; parse(词法分析、语法分析) -&gt;AST抽象语法树-&gt;由Ignition库转换为字节码bytecode</p>
<p>-&gt;V8将字节码转换成机器指令-CPU代码(不同平台CPU不一样所以需要先转换字节码)运行</p>
<p>TurboFan库/模块 将多次执行的代码变成优化的机器指令，下次可直接执行</p>
<p>如图：    </p>
<p><img src="C:\Users\Administrator\Desktop\2022\img\js高级_V8引擎的原理.png" srcset="/img/loading.gif" lazyload>        </p>
</li>
<li><p>代码执行流程分析</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> 1. 代码解析，V8引擎内部会给我们创建一个对象(GlobalObject -&gt; go)</span><br><span class="hljs-comment"> 2. 运行代码</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><strong>扩展运算符</strong></li>
</ul>
<p>扩展运算符在函数形参列表中的作用</p>
<p>将传递给函数的所有实参打包到一个数组中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fun</span>(<span class="hljs-params">...arr</span>) </span>&#123;   <span class="hljs-comment">//将参数打包到arr数组</span><br>  <span class="hljs-built_in">console</span>.log(arr); <br>&#125;<br>fun(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure>

<p>注意：和在等号左边一样，也只能写在形参列表最后 </p>
<ul>
<li><strong>形参默认值</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ES6: 直接在形参指定默认值</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fun</span>(<span class="hljs-params">a = <span class="hljs-number">6</span>, b = <span class="hljs-number">6</span></span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(a, b);  <span class="hljs-comment">//Result: 6 6</span><br>&#125;<br>fun()<br></code></pre></td></tr></table></figure>

<p>可以将函数作为其他函数的参数和返回值</p>
<p>JS中函数可以嵌套定义(函数中可以定义函数)</p>
<p>​          </p>
<ul>
<li><strong>箭头函数</strong></li>
</ul>
<p>ES6新增定义函数的格式，为了简化定义函数代码 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//let 函数名称=(形参列表)=&gt;&#123;...&#125;</span><br><span class="hljs-keyword">let</span> fun=<span class="hljs-function">(<span class="hljs-params">a</span>)=&gt;</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(a);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>注意点：</p>
<p>​    如果()只有一个形参，括号可以省略 </p>
<p>​    如果大括号中只有一句代码，那么{}也可以省略</p>
<p>箭头函数和普通函数的区别</p>
<p>​    普通函数/方法，谁调用this就是谁</p>
<p>​    箭头函数的this，是父作用域的this，不是调用者  </p>
<p>​    注意：箭头函数中的this永远都只看它所属的作用域的this,不能通过bind/call/apply来修改   </p>
<ul>
<li><strong>作用域链</strong></li>
</ul>
<p>ES6之前作用域链：</p>
<p>​    全局作用域是0级作用域</p>
<p>​    定义函数开启的作用域是1/2/3…级</p>
<p>​    JS会将这些作用域连接起来形成作用域链</p>
<p>​    0-&gt;1-&gt;2-&gt;3-&gt;4… (0级作用域里定义的函数就是1级)</p>
<p>变量在作用域链查找规则：</p>
<p>​    先在当前找，找到就使用当前作用域的</p>
<p>​    当前没有就去上一级作用域查找</p>
<p>​    以此类推直到0级为止，0级没有找到就报错</p>
<p>ES6作用域链：</p>
<p>​    除了定义函数会开启作用域外，代码块也会开启作用域</p>
<p>​    注意点：要用ES6就全部用ES6如：let、箭头函数(不然容易混淆)</p>
<p>​    函数预解析：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ES6之前这种定义函数方式，可以提前调用(会将函数的声明提升到当前作用域最前面)</span><br>say()  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">say</span>(<span class="hljs-params"></span>)</span>&#123;&#125;  <br><span class="hljs-comment">//报错，这样只有变量才会预解析</span><br>say()  <span class="hljs-keyword">var</span> say=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;  <br><span class="hljs-comment">//不会被预解析,let定义的</span><br>say()  <span class="hljs-keyword">let</span> say = <span class="hljs-function">() =&gt;</span> &#123;&#125;  <br></code></pre></td></tr></table></figure>



<ul>
<li>对象的属性方法分类</li>
</ul>
<p>实例属性/实例方法:</p>
<p>​    通过构造函数创建的对象 - 实例对象</p>
<p>​    通过实例对象访问的属性 - 实例属性</p>
<p>​    通过实例对象调用的方法 - 实例方法</p>
<p>静态属性/静态方法:</p>
<p>​    通过构造函数访问/调用的属性/方法就是静态属性和静态方法</p>
<p>​    构造函数也是对象：构造函数.属性=…</p>
<p><strong>prototype对象</strong> </p>
<p>可以将构造函数中公共的方法存储到prototype对象中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">Person.prototype=&#123;<span class="hljs-attr">say</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;&#125;  <span class="hljs-comment">//里面放构造函数公共方法 </span><br></code></pre></td></tr></table></figure>

<p>prototype对象特点：</p>
<p>​    存储在prototype中的方法可以被对应构造函数创建的所有对象共享(也可存储属性)</p>
<p>​    prototype中出现和构造函数重名属性或方法，访问到的是构造函数中的</p>
<p>应用场景：</p>
<p>​    prototype中一般用于存储所有对象都相同的属性及方法 </p>
<ul>
<li>对象三角恋关系</li>
</ul>
<p>每个构造函数都有一个默认属性-prototype</p>
<p>prototype中保存着一个对象-原型对象</p>
<p>每个原型对象都有一个默认属性-constructor</p>
<p>constructor指向当前原型对象对应的那个构造函数</p>
<p>通过构造函数创建的对象-实例对象</p>
<p>每个实例对象都有一个默认属性 <strong>proto</strong> (两下划线)</p>
<p><strong>proto</strong> 指向创建它的那个构造函数的原型对象</p>
<ul>
<li>Function构造函数</li>
</ul>
<p>​    函数是引用类型(对象)，所有函数都是通过Function构造函数创建的对象</p>
<p>​    构造函数的__proto__比较特殊，指向它自己的原型对象(和prototype一样)</p>
<p>​    Object构造函数  Object原型对象的__proto__为null</p>
<p>​      </p>
<ul>
<li>函数关系完整关系</li>
</ul>
<p>​      Function函数是所有函数的祖先函数</p>
<p>​      所有构造函数都有一个prototype属性</p>
<p>​      所有原型对象都有一个constructor属性</p>
<p>​      所有函数都是对象</p>
<p>​      所有对象都有一个__proto__属性                 </p>
<p> <img src="file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml2868\wps1.png" srcset="/img/loading.gif" lazyload alt="img"><img src="file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml2868\wps2.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>​     <img src="file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml2868\wps3.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>​                            -2021.4.3</p>
<ul>
<li><p><strong>原型链</strong></p>
<p>当给构造函数的(.prototype={})赋值时，为了不破坏原有关系</p>
<p>需要在自定义的对象中手动添加constructor属性，手动指定指向谁(构造函数)</p>
<p>通过 __proto__ 连接在一起的链叫做原型链</p>
<p>当使用对象的属性和方法时，自己有用自己的，自己没有去原型中找</p>
<p>原型没有，就去原型的原型找，一直找到Object的__proto__为NULL为止</p>
<p>注意：给对象不存在的属性设置值时，不会去原型中查找，会给当前对象新增</p>
</li>
<li><p><strong>封装/继承/多态</strong></p>
</li>
</ul>
<p>JS面向对象的三大特性：封装、继承、多态</p>
<p><strong>封装性</strong></p>
<p>默认情况对象属性和方法都是公开的，拿到对象就可以操作对象的属性方法</p>
<p>构造函数中let/var设置私有属性，通过this.设置公有方法修改和访问私有属性</p>
<p><strong>继承</strong></p>
<p>bind-call-apply三个方法</p>
<p>作用：都是用于修改函数或方法中的this的</p>
<p>obj是新this的指向对象</p>
<p>bind方法：函数.bind(obj ,参数…);  会返回一个修改后的新函数</p>
<p>​     也可以函数传参，只不过参数要写在this对象后面</p>
<p>call方法： 函数.call(obj ,参数…);  会立即调用新函数  可传参</p>
<p>apply方法：也是立即调用，但传递参数格式不一样，通过数组传参</p>
<p>​      函数.apply(obj ,[参数…]);  </p>
<p>修改方法的this：方法.bind() 一样的做法…</p>
<p>JS继承的终极方法：</p>
<p>  在子类的构造函数中通过call借助父类的构造函数</p>
<p>  将子类的原型对象修改为父类的实例对象\</p>
<p><strong>多态</strong></p>
<p>强类型语言-变量使用严格符合定义：int就存储整型</p>
<p>弱类型-不要求变量使用严格符合-JS就是弱类型</p>
<p>弱类型语言不关注多态</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><ul>
<li>数组解构赋值 </li>
</ul>
<p>ES6新增赋值方法，左边右边格式必须相同，才能完全解构</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//左右边个数可以不一样，会赋值undefined或者多余值丢弃</span><br><span class="hljs-keyword">let</span> [a,b,c]=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br><span class="hljs-keyword">let</span> [a,b=<span class="hljs-number">666</span>,c=<span class="hljs-number">1</span>]=[<span class="hljs-number">1</span>] <span class="hljs-comment">//可以给左边的值指定默认值 </span><br><br><span class="hljs-comment">//ES6扩展运算符：在最后一个字母前加... 可以将多余数据打包</span><br><span class="hljs-keyword">let</span> [a,...b]=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>] <br></code></pre></td></tr></table></figure>



<h3 id="4-5-函数防抖和函数节流"><a href="#4-5-函数防抖和函数节流" class="headerlink" title="4.5 函数防抖和函数节流"></a>4.5 函数防抖和函数节流</h3><ul>
<li><strong>函数防抖</strong></li>
</ul>
<p>函数防抖是优化高频率执行js代码的一种手段</p>
<p>​    可以让被调用的函数在一次连续的高频操作过程中只被调用一次</p>
<p>​    作用：减少代码执行次数,提升网页性能</p>
<p>​    应用场景：oninput/onmousemove/onscroll/onresize等事件</p>
<ul>
<li><strong>函数节流</strong></li>
</ul>
<p>​    作用和函数防抖一样</p>
<p>​     区别：函数节流是减少连续的高频操作函数执行次数</p>
<p>(例如连续调用10次,可能只执行3-4次)</p>
<p>​        函数防抖是让连续的高频操作时函数只执行一次</p>
<p>(例如连续调用10次,但只会执行1次)</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>
                    
                      <a class="hover-with-bg" href="/categories/%E5%89%8D%E7%AB%AF/2-JS/">2. JS</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/JS/">JS</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/03/24/1.%20html/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">HTML详解</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/03/24/0.%20%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">
                        <span class="hidden-mobile">Hexo博客搭建和部署</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
  <!--《添加网站运行时间 -->
<!--<br/>-->
<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date();

    function createtime() {
        var grt = new Date("01/14/2022 12:00:00"); //此处修改你的建站时间或者网站上线时间 
        now.setTime(now.getTime() + 250);
        days = (now - grt) / 1000 / 60 / 60 / 24;
        dnum = Math.floor(days);
        hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);
        hnum = Math.floor(hours);
        if (String(hnum).length == 1) {
            hnum = "0" + hnum;
        }
        minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes);
        if (String(mnum).length == 1) {
            mnum = "0" + mnum;
        }
        seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds);
        if (String(snum).length == 1) {
            snum = "0" + snum;
        }
        document.getElementById("timeDate").innerHTML = " 本站已安全运行 " + dnum + " 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
    setInterval("createtime()", 250);
</script>
<!-- 添加网站运行时间》 -->
</footer>
<script type="text/javascript" src="/js/clicklove.js"></script>
<script type="text/javascript" src="https://libs.baidu.com/jquery/1.8.3/jquery.js"></script>
<script type="text/javascript" src="https://libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
<!-- 雪花特效 -->
<script type="text/javascript" src="/js/snow.js"></script>








  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/haru01.model.json"},"display":{"superSample":2,"width":150,"height":430,"position":"right","hOffset":0,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
